*          DATA SET CTMADWORKD AT LEVEL 003 AS OF 06/22/10                      
CONTROLD DSECT                                                                  
*        THIS DSECT COVERS THE SAVED STORAGE AREA USED BY THE                   
*        CONTROLLER AND ITS COMMON ROUTINES.                                    
*                                                                               
*        VARIOUS TEMPORARY WORK AREAS                                           
*                                                                               
DMCB     DS    6F                  6 FULL WORD PARAMETER LIST                   
DUB      DS    D                   DOUBLE WORD                                  
FULL     DS    F                   FULL WORD                                    
HALF     DS    H                   HALF WORD                                    
BYTE     DS    B                   BYTE                                         
WORK     DS    XL64                WORK AREA FOR EDIT INSTRUCTION               
         DS    XL80                                                             
BLOCK    DS    XL256               256 BYTE WORK AREA                           
ELEMENT  DS    XL256               256 BYTE ELEMENT BUILDING AREA               
*                                                                               
*        VARIABLES SET DURING THE FIRST TRANSACTION AND USED ON ALL             
*        SUBSEQUENT TRANSACTIONS.  INCLUDES USER SIGNON ID, SYSTEM              
*        ACCESS LIST.                                                           
*                                                                               
SIGNON2  DS    XL2                 SIGNON USER ID (2 BYTE HEX FORMAT)           
SIGNON2C DS    CL2                 SIGNON USER ID (2 BYTE CHAR FORMAT)          
SIGNON8  DS    CL8                 SIGNON USER ID (8 BYTE CHAR FORMAT)          
*                                                                               
SYSLIST  DS    XL200               SYSTEM ACCESS LIST                           
         DS    300X                                                             
*                                                                               
*        VARIOUS SYSTEM VARIABLES SET EVERY TRANSACTION                         
*                                                                               
LENTWA   DS    H                   LENGTH OF A TEMPSTR RECORD                   
         DS    30X                                                              
*                                                                               
*        ADDRESSES OF RESOURCES PASSED FROM FAKPAK TO THE CONTROLLER            
*        ON THE PARAMETER LIST                                                  
*                                                                               
ASYSFACS DS    A                   A(SYSFACS)                                   
ATIA     DS    A                   A(TIA)                                       
AUTL     DS    A                   A(UTL)                                       
ACOMFACS DS    A                   A(COMFACS)                                   
ATWA     DS    A                   A(TWA)                                       
ATIOB    DS    A                   A(TIOB)                                      
*                                                                               
*        ADDRESSES OF THE BASE REGISTERS AND SECTIONS OF MEMORY                 
*        ALLOCATED BY THE CONTROLLER'S NMOD INSTRUCTION                         
*                                                                               
ABASE1   DS    A                   A(BASE1)                                     
ABASE2   DS    A                   A(BASE2)                                     
ABASE3   DS    A                   A(BASE3)                                     
AOVER    DS    A                   A(OVERLAY SAVED MEMORY)                      
AINFRM   DS    A                   A(INPUT FRAME AREA)                          
AOUTFRM  DS    A                   A(OUTPUT FRAME AREA)                         
AIOS     DS    A                   A(DATAMGR IO AREAS)                          
AFREE    DS    A                   A(FREE MEMORY FOR CONTROLLER)                
ATMPBUF  DS    A                   A(GETTMP/PUTTMP RECORD AREA)                 
RELO     DS    A                   RELOCATION FACTOR                            
         DS    9A                  SPARE                                        
*                                                                               
*        ADDRESSES OF COMFACS ROUTINES                                          
*                                                                               
COMFADRS DS    0A                                                               
CALLOV   DS    A                   SEE PANVELET BOOK DCCALLOV                   
DATAMGR  DS    A                                     DCDATAMGR                  
SCANNER  DS    A                                     ETC.                       
TERMVAL  DS    A                                                                
DATCON   DS    A                                                                
GETRET   DS    A                                                                
         DS    A                                                                
SWITCH   DS    A                                                                
HEXIN    DS    A                                                                
HEXOUT   DS    A                                                                
GETDAY   DS    A                                                                
ADDAY    DS    A                                                                
GETFACT  DS    A                                                                
PROTON   DS    A                                                                
PROTOFF  DS    A                                                                
VBLDCUR  DS    A                                                                
         DS    7A                  SPARE                                        
*&&US                                                                           
DEMAND   DS    A                                                                
         DS    9A                  US SPARE                                     
*&&                                                                             
*&&UK                                                                           
         DS    10A                 UK SPARE                                     
*&&                                                                             
*                                                                               
*        ADDRESSES OF ROUTINES LINKED WITH THE CONTROLLER                       
*                                                                               
EXTERNS  DS    0V                                                               
HELLO    DS    V                   RECORD UPDATE ROUTINE                        
HELEN    DS    V                   FILE NAME TABLE                              
WORKER   DS    V                   WORKER FILE MANAGER                          
CRYPT    DS    V                   ENCRYPTION ROUTINE                           
         DS    V                                                                
DUMMY    DS    V                   DUMMY 32000 BYTE AREA FOR LOADING OV         
BINSRCH  DS    V                   BINARY SEARCH TABLE ROUTINE                  
         DS    V                                                                
         DS    V                                                                
*                                                                               
         DS    9V                  SPARE                                        
*                                                                               
*        ADDRESSES OF ROUTINES LINKED WITH THE CONTROLLER                       
*                                                                               
EXTUSUK  DS    0V                                                               
*&&US                                                                           
HELENDIR DS    V                   DIRECTORY NAME TABLE                         
DPTRD    DS    V                   DAYPART READ                                 
EQVRD    DS    V                   EQUIVALENCE READ                             
         DS    7V                  US SPARE                                     
*&&                                                                             
*&&UK                                                                           
HELENDIR DS    V                   DIRECTORY NAME TABLE                         
         DS    9V                  UK SPARE                                     
*&&                                                                             
*                                                                               
*        ADDRESSES OF CORE RESIDENT ROUTINES                                    
*                                                                               
COREADRS DS    0V                                                               
VPADDLE  DS    V                  PADDLE - CREATE PASSIVE POINTERS              
         DS    9V                 SPARE                                         
*                                                                               
*        ADDRESSES OF US/UK CORE RESIDENT ROUTINES                              
*                                                                               
CORAUSUK DS    0V                                                               
*&&US                                                                           
DEMDISP  DS    V                   DEMO TYPE ELEMENT CODE TABLE                 
CLPACK   DS    V                   CLIENT CODE PACK ROUTINE                     
STAPACK  DS    V                   MARKET/STATION CODE PACK ROUTINE             
QSORT    DS    V                   QUICK SORT ROUTINE                           
DEFINE   DS    V                   DBLOCK EXTRACTION ROUTINE                    
DEMOCON  DS    V                   DEMO FORMAT CONVERSION ROUTINE               
DEMOVAL  DS    V                   DEMO 3-BYTE CONVERSION ROUTINE               
GETBROAD DS    V                   FIND BROADCAST MONTH FOR A DATE              
MOBILE   DS    V                   BROADCAST MONTH/WEEK TABLE BUILD             
SQUASHER DS    V                   REMOVE REDUNDANT SPACES FROM STRING          
JOBBER   DS    V                   PRODUCTION JOBBER                            
GETOPT   DS    V                   PRODUCTION JOB OPTION GET                    
VSLNTAB  DS    V                   SPOT LENGTH TABLE                            
*&&                                                                             
*&&UK                                                                           
JOBBER   DS    V                   PRODUCTION JOBBER                            
GETOPT   DS    V                   PRODUCTION JOB OPTION GET                    
         DS    11V                 UK SPARE                                     
*&&                                                                             
*                                                                               
*        ADDRESSES OF CONTROLLER COMMON ROUTINES                                
*                                                                               
CONTADRS DS    0A                                                               
CALLSUB  DS    A                   LOAD OVERLAY INTO MEMORY AND BAL IT          
GETITEM  DS    A                   GET NEXT ITEM FROM INPUT FRAME               
PUTITEM  DS    A                   PUT ITEM TO OUTPUT FRAME                     
DECIN    DS    A                   CONVERT EBCDIC DECIMAL NUM TO BINARY         
READTWA  DS    A                   READ TWA INTO MEMORY                         
WRTTWA   DS    A                   WRITE MEMORY TO TWA                          
CONVOFF  DS    A                   CONVERT OFFICE CODE BETWEEN FORMATS          
READ     DS    A                   DATAMGR READ KEY COMMAND                     
HIGH     DS    A                   DATAMGR READ HIGH FOR KEY COMMAND            
SEQ      DS    A                   DATAMGR READ SEQUENTIAL COMMAND              
WRITE    DS    A                   DATAMGR WRITE KEY COMMAND                    
ADD      DS    A                   DATAMGR ADD KEY COMMAND                      
GETREC   DS    A                   DATAMGR GET RECORD COMMAND                   
PUTREC   DS    A                   DATAMGR WRITE BACK RECORD COMMAND            
ADDREC   DS    A                   DATAMGR ADD RECORD COMMAND                   
SETSYS   DS    A                   SWITCH TO SYSTEM AND SET FILE NAMES          
GETELEM  DS    A                   GET ELEMENT FROM RECORD                      
SRCHGET  DS    A                   GET ELEMENT WITH SEARCH ARGUMENT             
NEXTELEM DS    A                   GET NEXT ELEMENT FROM RECORD                 
DELELEM  DS    A                   DELETE ELEMENT FROM RECORD                   
SRCHDEL  DS    A                   DELETE ELEMENT WITH SEARCH ARGUMENT          
ADDELEM  DS    A                   ADD ELEMENT TO RECORD                        
TMPOPEN  DS    A                   OPEN TEMP FILE (GET/PUT)                     
TMPCLOSE DS    A                   CLOSE TEMP FILE                              
PUTTMP   DS    A                   PUT ELEMENT TO TEMP FILE                     
GETTMP   DS    A                   GET ELEMENT FROM TEMP FILE                   
ESTFRM   DS    A                   SET ESTIMATED TOTAL FRAMES FOR REQ           
WRKCRE   DS    A                   WORKER FILE CREATE                           
WRKPUT   DS    A                   WORKER FILE PUT                              
WRKCLOS  DS    A                   WORKER FILE CLOSE                            
WRKREPT  DS    A                   WORKER FILE REOPEN (FOR PUTS)                
WRKLOC   DS    A                   WORKER FILE LOCATE                           
WRKGET   DS    A                   WORKER FILE GET                              
WRKREGT  DS    A                   WORKER FILE REOPEN (FOR GETS)                
WRKSENT  DS    A                   WORKER FILE STATUS TO SENT                   
WRKCLOT  DS    A                   WORKER FILE CLOSE (TEMP)                     
WRKCLOE  DS    A                   WORKER FILE CLOSE (ERROR)                    
CONTADRN EQU   (*-CONTADRS)/4                                                   
         DS    9A                  SPARE                                        
*                                                                               
*        ADDRESSES OF APPLICATION COMMON ROUTINES                               
*                                                                               
APPLADRS DS    0A                                                               
INITBUF  DS    A                   INITIALIZE PRINT QUEUE BUFFER                
VALSPID  DS    A                   VALIDATE SPOOL ID                            
GETNDX   DS    A                   READ REPORT INDEX RECORD - SAVE ATTR         
GETATTR  DS    A                   READ REPORT HEADER - SAVE ATTRIBUTES         
SETFORM  DS    A                   TEST REPORT IS IN DOWNLOAD FORMAT            
RNDPAGE  DS    A                   READ RANDOM PAGE OF REPORT                   
FIRSTLIN DS    A                   READ FIRST REP LINE OF TRANSACTION           
NEXTLIN  DS    A                   READ NEXT REP LINE OF TRANSACTION            
APPLADRN EQU   (*-APPLADRS)/4                                                   
         DS    19A                 SPARE                                        
*                                                                               
*        ADDRESSES OF US/UK APPLICATION COMMON ROUTINES                         
*                                                                               
USUKADRS DS    0A                                                               
*                                                                               
*&&US                                                                           
VALIMED  DS    A                   VALIDATE SPOT MEDIA                          
VALICLT  DS    A                   VALIDATE SPOT CLIENT                         
VALIPRD  DS    A                   VALIDATE SPOT PRODUCT                        
VALIEST  DS    A                   VALIDATE SPOT ESTIMATE                       
VALISTA  DS    A                   VALIDATE SPOT STATION                        
VALIDPT  DS    A                   VALIDATE SPOT DAYPART                        
VALIRGEO DS    A                   VALIDATE RADIO GEOGRAPHIC CATEGORY           
VALISLN  DS    A                   VALIDATE SPOT LENGTH                         
VALIES1  DS    A                   VALIDATE SPOT EST CHARACTER INP.             
SETHEIR  DS    A                   EXTRACT ACCOUNT LEDGER HEIRARCHY             
USADRN   EQU   (*-USUKADRS)/4                                                   
         DS    7A                  US SPARE                                     
*&&                                                                             
*&&UK                                                                           
UKADRS   DS    0A                                                               
SETHEIR  DS    A                   EXTRACT ACCOUNT LEDGER HEIRARCHY             
UKADRN   EQU   (*-USUKADRS)/4                                                   
         DS    16A                 UK SPARE                                     
*&&                                                                             
*                                                                               
*        ADDRESSES OF COMFACS ROUTINES                                          
*                                                                               
LOGGER   DS    A                   TRANSACTION LOGGER ROUTINE                   
SHIPIT   DS    A                                                                
         DS    8A                  US SPARE                                     
*                                                                               
*        VARIABLES SET IN SCANTWA                                               
*                                                                               
PCVRS    DS    H                   PC VERSION NUMBER                            
PCACTION DS    H                   ACTION REQUESTED BY PC                       
PCFRAME  DS    A                   FRAME NUMBER REQUESTED BY PC                 
PCLAST   DS    C                   FLAGS LAST FRAME ('L' OR SPACE)              
PCDEBUG  DS    C                   FLAGS DEBUG MODE ('D' OR SPACE)              
*                                                                               
*        VARIABLES USED BY BLDTWA                                               
*                                                                               
MDVRS    DS    H                   $MAD VERSION NUMBER                          
MDACTION DS    H                   ACTION OR ERROR $MAD RETURNS                 
MDFRAME  DS    A                   FRAME NUMBER $MAD RETURNS                    
MDLAST   DS    C                   FLAGS LAST FRAME ('L' OR SPACE)              
MDDEBUG  DS    C                   FLAGS DEBUG MODE ('D' OR SPACE)              
MDFRMSIZ DS    A                   FRAME SIZE                                   
*                                                                               
*        VARIABLES SET IN VALACT                                                
*                                                                               
OVERLAY  DS    X                   OVERLAY NUMBER FOR REQUESTED ACTION          
*                                                                               
*        VARIABLES SET IN SAVEACT TO REMEMBER THE STATUS OF THE PREV            
*        TRANSACTION IN ORDER TO DETERMINE IF AN ACTION CHANGE HAS              
*        OCCURED AND TO BE ABLE TO CLEAN UP THE PREVIOUS ACTION.                
*                                                                               
SVPCACT  DS    H                   SAVED PC ACTION NUMBER                       
SVMDFRM  DS    A                   SAVED MAD FRAME NUMBER                       
SVMDLAST DS    C                   SAVED MAD LAST FRAME INDICATOR               
*                                                                               
*        VARIABLES SET BY TESTCHG, PROCSTRT, AND PROCCONT AND USED              
*        IN AN OVERLAY TO DETERMINE ITS MODE OF OPERATION                       
*                                                                               
OVERMODE DS    C                   OVERLAY MODE - 'S' = START                   
*                                                 'M' = MIDDLE                  
*                                                 'E' = END                     
*                                                                               
*        VARIABLES USED BY CALLSUB                                              
*                                                                               
CSPHASE  DS    XL4                 PHASE PARAMETER FOR CALLOV CALL              
CSSP     DS    X                   OVERLAY STACK POINTER                        
CSSTACK  DS    4F                  OVERLAY STACK                                
CSNXTLOD DS    A                   A(NEXT PLACE TO LOAD OVERLAY)                
*                                                                               
*        VARIABLES USED IN GETITEM/PUTITEM                                      
*                                                                               
AINPUT   DS    A                   A(WITHIN INPUT FRAME OF NEXT ITEM)           
AOUTPUT  DS    A                   A(WITHIN OUTPUT FRAME OF NEXT ITEM)          
INPLEFT  DS    A                   NUMBER OF BYTES LEFT IN INPUT FRAME          
OUTLEFT  DS    A                   NUMBER OF BYTES LEFT IN OUTPUT FRAME         
EIFFLAG  DS    C                   END OF INPUT FRAME FLAG                      
EOFFLAG  DS    C                   END OF OUTPUT FRAME FLAG                     
TYPEWORK DS    CL9                 AREA TO HOLD EBCDIC FORM OF TYPENUM          
*                                                                               
*        VARIABLES RETURNED TO CALLER FROM GETITEM                              
*                                                                               
TYPENUM  DS    A                   TYPE NUMBER                                  
DATALEN  DS    A                   LENGTH OF ITEM DATA                          
ADATA    DS    A                   A(ITEM DATA)                                 
*                                                                               
*        VARIABLES USED IN GETTMP/PUTTMP ROUTINES                               
*                                                                               
TMPOFLAG DS    C                   TEMP FILE OPEN (N)O/(G)ET/(P)UT              
DNEXTTMP DS    A                   D(NEXT ELEMENT TO GET/PUT TO TMPBUF)         
CURRTWA  DS    A                   CURRENT TEMPSTR TWA NUMBER                   
EOTFLAG  DS    C                   END OF TEMP FILE (Y/N)                       
TMPMAX   DS    F                   LARGEST RECORD PUT TO TEMP FILE              
*                                                                               
*        VARIABLES SET IN SETSYS CALL                                           
*                                                                               
SYSNUM   DS    X                   FACPAK FILE SYSTEM (EX/ SPOT)                
SYSFIL   DS    CL8                 FACPAK FILE NAME                             
SYSDIR   DS    CL8                 FACPAK DIRECTORY NAME (IF D/A FILE)          
ISDAFILE DS    C                   DIRECT ACCESS FILE (Y/N)                     
MAXRSIZE DS    H                   MAXIMUM RECORD SIZE                          
DISPELEM DS    X                   DISPLACEMENT TO FIRST ELEMENT                
DISPRLEN DS    X                   DISPLACEMENT TO RECORD LENGTH                
LENKEY   DS    X                   LENGTH OF KEY PORTION OF RECORD              
DISPDSKA DS    X                   DISPLACEMENT TO DISK ADDRESS                 
*                                                                               
*        VARIABLES USED IN DATAMGR INTERFACE ROUTINES                           
*                                                                               
KEY      DS    XL48                DATAMGR KEY                                  
KEYSAVE  DS    XL48                BACK UP OF KEY                               
*                                                                               
AIO      DS    A                   A(CURRENT IO AREA)                           
AIO1     DS    A                   A(FIRST IO AREA)                             
AIO2     DS    A                   A(SECOND IO AREA)                            
AADDIO   DS    A                   A(TEMPORARY IO AREA - COULD BE LOST          
*                                    FOLLOWING CALL TO ADDREC)                  
*                                                                               
COMMAND  DS    CL8                 DATAMGR COMMAND                              
DMINBTS  DS    X                   DATAMGR INPUT PARAMETER BITS                 
RDUPDATE DS    C                   READ FOR UPDATE (Y/N)                        
DMWORK   DS    12D                 GETREC/PUTREC COMMUNICATION BLOCK            
*                                                                               
*        MISC VARIABLES USED BY CONTROLLER AND APPL ROUTINES ONLY               
*                                                                               
CMDMCB   DS    6F                  6 FULL WORD PARAMETER LIST                   
CMDUB    DS    D                   DOUBLE WORD                                  
CMFULL   DS    F                   FULL WORD                                    
CMBYTE   DS    X                   HALF WORD                                    
CMWORK80 DS    XL80                WORK AREA FOR SCANNER CALL                   
CMBLOCK  DS    XL256               GENERAL WORK AREA                            
CMELCODE DS    X                   ELCODE FOR GETELEM/NEXTELEM CALLS            
*                                                                               
ACOMP    DS    A                   A(DATA COMPRESSION BUFFER)                   
COMPLEN  DS    F                   LEN OF COMPRESSED DATA                       
TERMCHR  DS    C                   MAD OBJECT TERMINATOR CHARACTER              
*                                                                               
AAPPL    DS    A                   A(APPLICATION COMMON STORAGE)                
AUSUK    DS    A                   A(US/UK APPLICATION COMMON STORAGE)          
*                                                                               
MDFRMEST DS    F                   ESTIMATED FRAMES REMAINING                   
*                                                                               
VALOCHRS DS    XL256               TABLE OF VALID EBCDIC FOR TERMINAL           
*                                                                               
UNWIND   DS    CL1                 UNWIND TRANSACTION FLAG(Y/N)                 
*                                                                               
REQUEUE  DS    C                   FAMONITOR WILL REQUEUE TO MAD (Y/N)          
SVPC2M   DS    CL60                SAVED PC TO MAD CONTROL FRAME                
*                                                                               
TMPMETHD DS    C                   C'S' - SPECIAL METHOD FOR PUTTMP             
*                                         SO RECORDS WILL NOT GO ACROSS         
*                                         TEMPSTR RECORD BOUNDARY               
*                                                                               
APPLERR  DS    H                   ERROR OBJ VALUE FOR US/UK ROUTINES           
*                                                                               
BIGKEY   DS    XL54                LARGE KEY AREA FOR ACCDIR READS              
*                                                                               
SRCHLEN  DS    X                   LENGTH OF SEARCH FILTER FOR NEXTELEM         
SRCHDATA DS    XL16                SEARCH FILTER DATA FOR NEXTELEM              
*                                                                               
APPLID   DS    X                   APPLICATION ID                               
         DS    XL2                 SPARE                                        
APRDLIST DS    A                   BECOMES DMCBW6 FOR SPOTPAK PRDLIST           
*                                                                               
*        VARIABLES USED IN WORKER FILE ROUTINES                                 
*                                                                               
WRKFILNO DS    XL2                 WORKER FILE NUMBER                           
WRKRECNO DS    F                   WORKER FILE RECORD NUMBER                    
         SPACE 1                                                                
COMPTAB  DS    26CL8               26 COMPACTION LETTERS A-Z                    
SAVESHIP DS    10F                                                              
INZIP    DS    X                   FLAG DOING COMPRESSION (=Y)                  
*                                                                               
         EJECT                                                                  
APPLD    DSECT                                                                  
*        THIS DSECT COVERS THE FIRST SAVED STORAGE AREA USED BY THE             
*        APPLICATION COMMON ROUTINES.                                           
*                                                                               
ACONTD   DS    A                   A(CONTROLLER COMMON STORAGE)                 
*                                                                               
*        VARIABLES USED BY ROUTINES THAT CALL DATAMGR FOR THE PRINT             
*        QUEUE (E.G. INITBUF, VALREP, REPATTR, RNDPAGE, FIRSTLIN, AND           
*        NEXTLIN).                                                              
*                                                                               
NDX      DS    CL56                KEY FOR VALREP CALLS TO DATAMGR              
PRTQID   DS    CL8                 PRTQ FILE ID                                 
PQPLIN   DS    CL234               LAST PRINT LINE READ FROM QUEUE              
PSAVEB   DS    XL96                SAVED END OF BUFFER                          
*                                                                               
*        VARIABLES SET IN INITBUF                                               
*                                                                               
SVSAVE   DS    A                   DISPLACEMENT TO START OF SAVE AREA           
MYLABEL  DS    CL8                 BUFFER LABEL                                 
*                                                                               
*        VARIABLES SET IN VALSPID                                               
*                                                                               
REPSUBID DS    CL3                 USER SUBID                                   
REPREPNO DS    XL2                 REPORT SEQUENCE NUMBER                       
*                                                                               
*        VARIABLES SET IN GETNDX, REPATTR, AND NEXLIN                           
*                                                                               
PQEOF    DS    C                   END OF FILE (Y/N)                            
OLDINQ   DS    CL(IQTOTLEN+3)      OLD INQUIRY BLOCK                            
REPATTR  DS    X                   REPORT ATTRIBUTES                            
REPSTAT  DS    X                   REPORT STATUS                                
NUMPAGES DS    A                   NUMBER OF PAGES                              
NUMLINES DS    A                   NUMBER OF LINES                              
*                                                                               
*        VARIABLES SET IN SETFORM                                               
*                                                                               
REPFORM  DS    C                   REPORT FORMAT ('D'=DATA, 'T'=TEXT)           
*                                                                               
*        VARIABLES SET IN RNDPAGE, FIRSTLIN, AND NEXTLIN                        
*                                                                               
PQPAGE   DS    A                   CURRENT PAGE READ                            
PQLINE   DS    A                   CURRENT LINE READ                            
EJECT    DS    C                   FLAGS BUMP PAGE NUMBER NEXT LINE             
PQREPS   DS    X                   NUMBER OF EMBEDDED REPORTS                   
PQLEN    DS    A                   PRINT LINE LENGTH                            
*                                                                               
*        MORE VARIABLES SET IN INITBUF                                          
*                                                                               
NLXTAB   DS    XL256               TRANSLATION TABLE FOR NEXTLIN CALL           
*                                                                               
*        PAGE FILTERS SET BY VALSPID                                            
*                                                                               
REPPGSPC DS    C                   REPORT SPACEING                              
REPPGSTR DS    AL3                 START PAGE                                   
REPPGEND DS    A                   END PAGE                                     
*                                                                               
SAVETTRC DS    H                   SAVED TRANSACTION COUNT                      
*                                                                               
*        NEW INQUIRY BLOCK                                                      
*                                                                               
INQUIRY  DS    CL800                                                            
*                                                                               
         EJECT                                                                  
USUKD    DSECT                                                                  
*        THIS DSECT COVERS THE SAVED STORAGE AREA USED BY THE US/UK             
*        APPLICATION COMMON ROUTINES.                                           
*                                                                               
*&&US                                                                           
*                                                                               
*        VARIABLES SET IN VALIMED                                               
*                                                                               
QMED     DS    CL1                 MEDIA                                        
BAGYMED  DS    XL1                 AGENCY/MEDIA                                 
APROFILE DS    XL20                AGENCY PROFILE                               
*                                                                               
*        VARIABLES SET IN VALICLT                                               
*                                                                               
QCLT     DS    CL3                 CLIENT                                       
BCLT     DS    XL2                 CLIENT (BINARY)                              
CPROFILE DS    XL15                CLIENT PROFILE                               
PRDLIST  DS    CL880               PRODUCT CODE LIST                            
*                                                                               
*        VARIABLES SET IN VALIPRD                                               
*                                                                               
QPRD     DS    CL3                 PRODUCT                                      
BPRD     DS    XL1                 PRODUCT CODE (BINARY)                        
PRDCODE  DS    XL2                 2-BYTE PRODUCT CODE                          
*                                                                               
*        VARIABLES SET IN VALIEST                                               
*                                                                               
BEST     DS    XL1                 BINARY EQUIVALENT OF ESTIMATE CODE           
ESTDYMNU DS    XL1                 DAYPART MENU NUMBER                          
ESTSTRT  DS    CL6                 PERIOD START DATE (YYMMDD)                   
ESTEND   DS    CL6                 PERIOD END DATE   (YYMMDD)                   
ESTBOOK  DS    XL2                 BOOK FROM ESTIMATE HEADER                    
ESTOWKSD DS    XL1                 OUT OF WEEK START DATE FROM EST HDR          
ESTREPCD DS    XL2                 REP CODE FROM ESTIMATE HEADER                
*                                                                               
*                                  DEMOS FROM THE ESTIMATE HEADER               
ESTDEMOS DS    0CL(MAXDTYPS*3)     20 DEMOS X 3 BYTES = SPARE/TYPE/NUM          
         DS    (MAXDTYPS)XL3                                                    
         DS    XL1                 TERMINATING 0 IN CASE OF 20 DEMOS            
*                                                                               
*        VARIABLES SET IN VALISTA                                               
*                                                                               
BMKTSTA  DS    XL5                 MARKET STATION PACKED                        
BTAXRATE DS    XL2                 STATION TAX RATE (3 DECIMALS)                
*                                                                               
*        VARIABLES SET IN VALIDPT                                               
*                                                                               
BDPTNUM  DS    XL1                 DAYPART NUMBER                               
*                                                                               
*        VARIABLES SET IN VALISLN                                               
*                                                                               
BSPOTLEN DS    XL1                 SPOT LENGTH IN SECONDS                       
*                                                                               
*        VARIABLES SET IN VALIRGEO                                              
*                                                                               
BRADGEOG DS    XL1                 BINARY RADIO GEOG CATEGORY CODE              
*                                                                               
*        VARIABLES SET IN SETHEIR                                               
*                                                                               
CUL      DS    XL3                 COMPANY/UNIT/LEDGER (SET BY CALLER)          
LLEVA    DS    XL1                 L'LEVEL A                                    
LLEVAB   DS    XL1                 L'LEVEL A + B                                
LLEVABC  DS    XL1                 L'LEVEL A + B + C                            
LLEVABCD DS    XL1                 L'LEVEL A + B + C + D                        
LCLI     EQU   LLEVA               L'CLIENT CODE                                
LCLIPRO  EQU   LLEVAB              L'CLIENT AND PRODUCT CODE                    
LCLIJOB  EQU   LLEVABC             L'CLIENT, PRODUCT AND JOB                    
LPRO     DS    XL1                 L'PRODUCT CODE                               
LJOB     DS    XL1                 L'JOB NUMBER                                 
LPROJOB  DS    XL1                 L'PRODUCT AND JOB                            
*                                                                               
*        MORE VARIABLES SET IN VALISTA                                          
*                                                                               
STAPST   DS    XL10                CANADIAN PST TAX                             
*                                                                               
*        MORE VARIABLES SET IN VALICLT                                          
*                                                                               
MCLUNQ   DS    XL1                 MASTER TRAFFIC SEQUENCE NUMBER               
MCLCOD   DS    XL2                 MASTER TRAFFIC CLIENT CODE                   
MCLPRD   DS    XL1                 MASTER TRAFFIC PRODUCT CODE                  
*                                                                               
*        MORE VARIABLES SET IN VALIEST                                          
*                                                                               
ESTCOST2 DS    XL4                 ESTIMATE COST2                               
*                                                                               
*        MORE VARIABLES SET IN VALICLT                                          
*                                                                               
CLTCOST2 DS    XL4                 CLIENT COST2                                 
ESTDEM25 DS    XL76                ALL 25 DEMOS FOR NETPAK                      
*                                                                               
*        MORE VARIABLES SET IN SETHEIR                                          
*                                                                               
LOFF     DS    X                   LENGTH OF OFFICE CODE                        
LDEP     DS    X                   LENGTH OF DEPARTMENT CODE                    
LSUB     DS    X                   LENGTH OF SUB-DEPARTMENT CODE                
*                                                                               
*        MORE VARIABLES SET IN VALICLT                                          
*                                                                               
CPROFILX DS    XL15                CLIENT EXTRA PROFILE                         
*                                                                               
*&&                                                                             
*&&UK                                                                           
*                                                                               
*        VARIABLES SET IN SETHEIR                                               
*                                                                               
CUL      DS    XL3                 COMPANY/UNIT/LEDGER (SET BY CALLER)          
LLEVA    DS    XL1                 L'LEVEL A                                    
LLEVAB   DS    XL1                 L'LEVEL A + B                                
LLEVABC  DS    XL1                 L'LEVEL A + B + C                            
LLEVABCD DS    XL1                 L'LEVEL A + B + C + D                        
LCLI     EQU   LLEVA               L'CLIENT CODE                                
LCLIPRO  EQU   LLEVAB              L'CLIENT AND PRODUCT CODE                    
LCLIJOB  EQU   LLEVABC             L'CLIENT, PRODUCT AND JOB                    
LPRO     DS    XL1                 L'PRODUCT CODE                               
LJOB     DS    XL1                 L'JOB NUMBER                                 
LPROJOB  DS    XL1                 L'PRODUCT AND JOB                            
LOFF     DS    X                   LENGTH OF OFFICE CODE                        
LDEP     DS    X                   LENGTH OF DEPARTMENT CODE                    
LSUB     DS    X                   LENGTH OF SUB-DEPARTMENT CODE                
LPER     DS    X                   LENGTH OF PERSON CODE                        
*&&                                                                             
