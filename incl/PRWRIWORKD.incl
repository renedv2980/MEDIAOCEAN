*          DATA SET PRWRIWORKD AT LEVEL 013 AS OF 11/12/08                      
*              WORKING STORAGE FOR PRINTPAK WRITER                              
         SPACE 3                                                                
* EQUATES FOR WORKING STORAGE                                                   
*                                                                               
LENSPOOL EQU   SPOOLEND-SPOOLD                                                  
LENGEND  EQU   IO-GEND                                                          
LENSYSD  EQU   SYSEND-SYSD                                                      
LENIOAS  EQU   NIOS*(LIOS+8)                                                    
LENWORK  EQU   LENSPOOL+LENGEND+LENSYSD+LENIOAS                                 
*                                                                               
NIOS     EQU   3                   3 IO AREAS                                   
LIOS     EQU   4000                4000 BYTE IO AREA                            
*                                                                               
* WRITER PROGRAM WORKING STORAGE                                                
*                                                                               
SYSD     DSECT                                                                  
DUMPSYSD DS    D                   **SYSD** IN DUMP                             
ATIOB    DS    A                   A(TRANSLATOR BLOCK)                          
BASER7   DS    F                   2ND BASE FOR CONTROLLER                      
BASER6   DS    F                   2ND BASE FOR CONTROLLER                      
PDADATES DS    A                   DATE RANGES BY QTR, MON, WEEK                
RELO     DS    A                   RELOCATION FACTOR T40500                     
RELO01   DS    A                   RELOCATION FACTOR T40501                     
RELOPGEN DS    A                   RELOCATION FACTOR T00A4F - PRWRIGEN          
RELOPOFF DS    A                   RELOCATION FACTOR T00A41 - PRWRIOFF          
RELOPVAL DS    A                   RELOCATION FACTOR T00AA4 - PRWRIVAL          
VRWRELO  DS    A                   RELOCATION FACTOR VALROW - PRWRIGEN          
VCLRELO  DS    A                   RELOCATION FACTOR VALCOL - PRWRIGEN          
PERFADDR DS    A                   ADDRESS SAVEAREA                             
AEDTLST  DS    A                   A(CURRENT ENTRY IN EDITLIST)                 
         DS    A                   SPARE                                        
APQINDEX DS    A                   A(PRINT QUEUE INFO TABLE)                    
DRBFSTRT DS    A                   A(START OF DRONE BUFFER)                     
*                                                                               
*                                                                               
SYSV     DS    0A               ** ADDRESSES OF LINKED ROUTINES **              
         DS    V                   SPARE                                        
COVAIL   DS    V                                                                
DUMMY    DS    V                                                                
FOOTINGA DS    A                   ADDRESS OF FOOTING ROUTINE                   
NVTYPES  EQU   (*-SYSV)/4                                                       
         DS   13V                  SPARE                                        
*                                                                               
COREFACS DS    0A               ** CORE RESIDENT PHASES **                      
GENCON   DS    A                                                                
DRONE    DS    A                                                                
PRNTIO   DS    A                                                                
OFFICER  DS    A                                                                
MOBILE   DS    A                                                                
VDDVAL   DS    A                                                                
VPRGEN   DS    A                                                                
VPRHELP  DS    A                                                                
VMINIO   DS    A                                                                
PUBVAL   DS    V                                                                
PUBEDIT  DS    V                                                                
PPGETADR DS    V                                                                
VSOFDAT  DS    V                                                                
NCORE    EQU   (*-COREFACS)/4                                                   
         DS    2A                  SPARE                                        
VPROFF   DS    A                   OFFLINE GENERAL ROUTINES                     
         EJECT                                                                  
* COMMON FACILITIES IN BASE PROGRAM                                             
*                                                                               
DUMPFCIL DS    D                   *FACILS* IN DUMP                             
SYSCOMM  DS    0A                  COMMON FACILITIES FOR SYSTEM                 
*                                                                               
VALAGY   DS    V                   FILLS IN USERNAME USERADD                    
         SPACE 1                                                                
*                                  GENERAL VALIDATION                           
VALMED   DS    V                   VALIDATE MEDIA                               
VALCLT   DS    V                   VALIDATE CLIENT                              
VALPRD   DS    V                   VALIDATE PRODUCT                             
VALEST   DS    V                   VALIDATE ESTIMATE                            
VALPUB   DS    V                   VALIDATE PUBLICATION                         
VALDIV   DS    V                   VALIDATE DIVISION                            
VALREG   DS    V                   VALIDATE REGION                              
VALDST   DS    V                   VALIDATE DISTRICT                            
VALADC   DS    V                   VALIDATE ADCODE                              
VALDTYP  DS    V                   VALIDATE DATE TYPE                           
VALPER   DS    V                   VALIDATE PERIOD                              
         DS    4V                  SPARE                                        
VALFILT  DS    V                   VALIDATE FILTERS                             
VALOPTS  DS    V                   VALIDATE OPTIONS                             
VALTITS  DS    V                   VALIDATE TITLE                               
         DS    4V                  SPARE                                        
         SPACE 1                                                                
*                                  DRONE RELATED VALIDATION ROUTINES            
VALHEAD  DS    V                   VALIDATE HEADERS (UP TO MAX)                 
VALMID   DS    V                   VALIDATE MID LINE                            
VALROWS  DS    V                   VALIDATE (UP TO MAX) ROWS                    
VALCOLS  DS    V                   VALIDATE (UP TO MAX) COLUMNS                 
VALPEX   DS    V                   VALIDATE A PERIOD EXPRESSION                 
         DS    4V                  SPARE                                        
         SPACE 1                                                                
*                                  DRONE FACILITIES                             
INITDRON DS    V                   INITIALIZE FOR DRONE                         
VROWDRON DS    V                   VALIDATE A ROW                               
GROWDRON DS    V                   GENERATE ELEMENTS FOR ROW                    
VCOLDRON DS    V                   VALIDATE A COLUMN                            
GCOLDRON DS    V                   GENERATE ELEMENTS FOR COLUMN                 
VCMPDRON DS    V                   VALIDATE A COMPUTATION                       
GCMPDRON DS    V                   GENERATE ELEMENTS FOR COMP                   
GUSRDRON DS    V                   GENERATE USER ELEMENTS                       
         DS    3V                                                               
WRAPDRON DS    V                   WRAP UP DRONE                                
         SPACE 1                                                                
*                                  DRIVER FACILITIES                            
INITDRIV DS    V                   INITIALIZE FOR DRIVER                        
         DS    3V                                                               
*                                  RUN TIME ROUTINES                            
GENHEAD  DS    V                   GENERAL HEADLINE HOOK                        
         DS    V                                                                
GENFOOT  DS    V                   GENERAL FOOTLINE HOOK                        
         DS    8V                                                               
FNDFLTRA DS    V                   FIND FILTER IN FILTER AREA                   
         SPACE 1                                                                
*                                  ODDMENTS                                     
NUMERIC  DS    V                   NUMERIC TEST                                 
PACK     DS    V                   PACK AND CVB INTO R1                         
GENOUTA  DS    V                   GENERAL OUTPUT ROUTINE                       
BLDLBLA  DS    V                   BUILD LABEL FOR FIELD                        
         SPACE 1                                                                
*                                  EXITS                                        
CURSERR  DS    V                   POSITION CURSOR AND EXIT                     
ERRXIT   DS    V                   GENERAL ERROR EXIT                           
EXIT     DS    V                   COMMON EXIT                                  
         DS    V                   SPARE                                        
NSYSCOMM EQU   (*-SYSCOMM)/4                                                    
*                                                                               
*        OFFLINE ONLY MODULES                                                   
*                                                                               
OFFCOMM  DS    0V                                                               
VTRACDRN DS    V                   TRACE DRONE                                  
VDOFLOW  DS    V                   FLOW CHARTING                                
VINIDRIV DS    V                   INIT DRIVER                                  
VGENHD   DS    V                   GENERAL HEADLINE HOOK                        
VGENFT   DS    V                   GENERAL FOOTING  ROUTINE                     
NOFFCOMM EQU   (*-OFFCOMM)/4                                                    
         EJECT                                                                  
* ASSORTED AREAS                                                                
*                                                                               
DUMPASRT DS    D                   *ASSORT* IN DUMP                             
AMYAREA  DS    A                                                                
*                                                                               
*        EQUATES FOR MAX HEAD/MID/ROWS/COLUMNS ON STANDARD WRITER               
*                                                                               
MAXHEADS EQU   6                   HEADLINES                                    
MAXMIDS  EQU   1                   MID-LINES                                    
MAXROWS  EQU   6                   ROWS                                         
MAXCOLS  EQU   14                  COLUMNS                                      
*                                                                               
*        OPTIONS                                                                
*                                                                               
SPACOPT  DS    XL1                 SPACING (1-3)                                
BOXOPT   DS    CL1                 N=NO BOXES                                   
WIDEOPT  DS    CL1                 Y=WIDE OPTION                                
NARROPT  DS    CL1                 NARROW REPORT                                
LEFTOPT  DS    CL1                 Y=LEFT ALIGN                                 
DOWNOPT  DS    CL1                 OPTION TO DOWN LOAD                          
TRACEOPT DS    CL1                 OPTION TO TRACE DRIVER                       
DRINDS   DS    XL1                 INDICATORS FOR DRIVER                        
*                                  X'04'= ALLTOT X'02'=ALL DET                  
RPTOVLY  DS    XL1                 OVERLAY TO PROCESS REPORT (USER REC)         
DPGFILE  DS    XL1                 DPG FILE NUMBER (USER REC)                   
RPTSCRN  DS    XL1                 SCREEN NUMBER   (USER REC)                   
MAXRANK  DS    CL4                 LIMIT ON RANKING                             
         SPACE 1                                                                
*                                  TITLES FOR REPORT                            
TITLE    DS    CL63                MAIN REPORT TITLE (HEAD1)                    
         DS    CL1                 SPARE                                        
SUBTITLE DS    CL36                PERIOD SUBTITLE (HEAD3)                      
         SPACE 1                                                                
*                                  PRINT ADDRESSES                              
PWIDTH   DS    F                   WIDTH OF PRINT LINES                         
AH1      DS    A                   A(HEAD1)                                     
AH4      DS    A                   A(HEAD4)                                     
AP1      DS    A                   A(P)                                         
         SPACE 1                                                                
FACTWRK  DS    10D                 GETFACT AREA                                 
         SPACE 1                                                                
AGYSIGN  DS    CL12                SIGN ON ID                                   
AGYALPHA DS    CL2                 AGENCY ALPHA                                 
AGYNUM   DS    CL3                 LAST 3 NUMERIC OF SIGN OR X'FF'              
DDS      DS    C                   Y=DDS                                        
AUTH     DS    XL2                 AUTHORIZATION BITS                           
TERM     DS    XL2                 TERMINAL NUMBER                              
USERID   DS    XL2                 USER ID NUMBER                               
FIELDERR DS    XL1                 USED FOR CURSOR POSITIONING                  
NEWOPTS  DS    XL1                 NEW OPTIONS                                  
NOPTPQIX EQU   X'80'               X'80' - PUT OUT PQ INDEX DATA                
NOPTCHGQ EQU   X'40'               X'40' - SOME KEY DATA CHANGED                
         DS    XL2                 SPARE                                        
         EJECT                                                                  
* OTHER STORAGE                                                                 
*                                                                               
*                                  DRIVER/DRONE RELATED INFO                    
AGLOBAL  DS    A                   A(DRIVER GLOBALS)                            
DRIVER   DS    A                   A(DRIVER)                                    
ALASTCOL DS    A                   A(LAST COLUMN VALIDATED)                     
MYPOSO   DS    0CL3                SAVED PRINT POSITION                         
MYLTYP   DS    CL1                       LINE TYPE (H/M/P)                      
MYLINE   DS    XL1                       LINE NUMBER                            
MYCOL    DS    XL1                       COLUMN NUMBER                          
MYOLEN   DS    XL1                 SAVED OUTPUT LENGTH                          
MYFIRSTH DS    XL1                 FIRST HEADING LINE                           
MYLABEL  DS    CL1                 (COLUMN) LABEL                               
TOTWIDTH DS    H                   USED FOR WIDTH CHECKING                      
SPECOPT  DS    XL1                 DOWNLOAD OPTIONS 1                           
PRNTSW   DS    CL1                 C'H' MEANS COVER SHEET    PRINTED            
*                                  C'Y' MEANS LINE OF REPORT PRINTED            
SORTSW   DS    CL1                 C'N' DON'T ADD RECORD TO SORT                
SORTIND  DS    XL1                 SORT FIELD PRESENT INDICATOR                 
SORTFLDQ EQU   X'80'               INDICATES REPORT HAS A SORT FIELD            
NOREQDTL DS    CL1                 C'Y' - SKIP REQUEST DETAIL PAGE              
         SPACE 1                                                                
*                                  ADDRESSES OF BUFFERS                         
ADBUFF   DS    A                   A(WORKING STORAGE BUFFER) - ONLINE           
ADATES   DS    A                   A(DATE BUFFER)                               
ANAMPOOL DS    A                   A(NAME POOL)                                 
ADPGPROG DS    A                   A(DRONE GENERATED DPG PROGRAM)               
ARPTNTRY DS    A                   A(USER REPORT ENTRY POINT)                   
AOV1WRK  DS    A                   A(OVERLAY 1 WORK AREA)                       
AVLTAB   DS    A                   A(DDVAL TABLE)                               
AVLPARMS DS    A                   A(DDVAL PARAMETERS)                          
AFLTTAB  DS    A                   A(FILTERS FOR FIELD)                         
ASTACKBF DS    A                   A(STACK BUFFER)                              
         SPACE 1                                                                
OUTAREA  DS    0CL65               OUTPUT AREAS                                 
LABLAREA DS    CL15                LABEL AREA                                   
         DS    CL1                                                              
CODENNAM DS    0CL49                                                            
CODEAREA DS    CL12                CODE                                         
         DS    CL1                                                              
NAMEAREA DS    CL36                NAME                                         
         SPACE 1                                                                
LASTHEAD DS    XL1                 ROW NUMBER OF LAST HEADLINE                  
LEVEL    DS    XL1                                                              
CLTLEV   DS    XL1                 CLIENT LEVEL                                 
TYPEDATE DS    XL1                 DATE TYPE                                    
ELMPRES  DS    CL1                 SPARE                                        
RPMODE   DS    XL1                 USER REPORT CALLING MODE                     
RPVAL    EQU   1                    VALIDATION                                  
RPINPUT  EQU   2                    INPUT                                       
RPINIT   EQU   3                    INITIALIZATION                              
RPDRHOOK EQU   10                   DRIVER HOOK                                 
RPFINAL  EQU   20                   FINAL                                       
RPRUNLST EQU   30                   RUNLAST                                     
KEYWORD# DS    XL1                 KEYWORD COUNTER                              
*                                                                               
         DS    0F                                                               
EBLOCK   DS    0CL24               EDITOR CONTROL BLOCK                         
         SPACE 1                                                                
EBINPUT  DS    0CL8                INPUT FIELDS--------                         
EBAIN    DS    A                   ADDRESS                                      
EBLIN    DS    XL1                 LENGTH                                       
EBTIN    DS    CL1                 TYPE (B=BINARY P=PACKED E=EBCDIC)            
*                                       (W=PWOS S=SCALED M=MASKED)              
EBSCIN   DS    XL1                 SCALE (POWERS OF 10) X'80'=NEGATIVE          
         DS    CL1                 N/D                                          
         SPACE 1                                                                
EBOUTPUT DS    0CL16               OUTPUT FIELDS-------                         
EBAOUT   DS    A                   ADDRESS                                      
EBLOUT   DS    X                   LENGTH (MAX 20)                              
EBDECS   DS    X                   NUMBER OF DECIMAL PLACES                     
EBFILL   DS    CL1                 OPTIONAL FILL CHARACTER                      
EBFLOAT  DS    CL1                 OPTIONAL FLOAT CHARACTER                     
EBROUND  DS    XL1                 DIVIDE AND ROUND BEFORE EDIT                 
*                                  (1=BY 10 2=BY 100 ..) X'80'=MULTIPLY         
EBOPT    DS    XL1                 OPTION BIT SETTINGS                          
EBOQCEY  EQU   X'80'               COMMAS=YES                                   
EBOQMEY  EQU   X'40'               MINUS=YES                                    
EBOQZEN  EQU   X'20'               ZERO=NOBLANK                                 
EBOQBEY  EQU   X'10'               BRACKET=YES                                  
EBOQBMF  EQU   X'08'               BRACKET MINUS FIELDS                         
EBOQSDPC EQU   X'01'               SWAP DECPNT AND COMMA                        
*                                                                               
EBTRIM   DS    XL1                 HOW TO TRIM IF TOO BIG                       
EBTQROD  EQU   X'80'               ROUND OFF DECIMALS                           
EBTQPOLB EQU   X'40'               PRINT ON LINE BELOW ELSE 1 XTRA              
*                                                                               
EBALIGN  DS    CL1                 L=LEFT ALIGN                                 
EBPWIDTH DS    XL1                 WIDTH OF PRINT LINES (DEFAULT=132)           
EBSCOUT  DS    XL1                 SCALE (POWERS OF 10) X'80'=NEGATIVE          
EBTRAIL  DS    CL1                 ADD THIS CHARACTER AT END                    
         DS    CL1                 N/D                                          
         SPACE 1                                                                
FOOTCOM  DS    CL6                 FOOTING COMMENT ID                           
FOOT#LNS DS    XL1                 NUMBER OF LINES IN COMMENT                   
DLRTYPE  DS    CL1                 DOLLAR TYPE WORKAREA                         
*                                  'P' - PAY, 'B' - BILLED                      
CFLTQTIC DS    XL2                 COLUMN FILTER INTERNAL CODE                  
FLOWDATA DS    CL1                 C'Y' - SIGNIFICANT FLOWCHART DATA            
*                                           FOUND                               
STACKSW  DS    XL1                 STACKING SWITCH                              
STACKYQ  EQU   X'80'               STACKING ASKED FOR                           
STACKP1  EQU   X'40'               NEXT COL TO HAVE POSITION P1                 
STCKINIQ EQU   X'20'               INIT - NO SIGNIFICANT DATA YET               
STCKBUFQ EQU   X'10'               GET STACKING BUFFER WHEN OFF-LINE            
STCKMRGQ EQU   X'08'               MERGING ASKED FOR                            
STACKA   DS    AL4                 A(STACK LINE NUMBER IN SORT RECORD)          
STACK1ST DS    XL1                 FIRST COLUMN FOR STACKING (A-N)              
STACKLST DS    XL1                 LAST  COLUMN FOR STACKING (A-N)              
STACKWID DS    XL1                 TITLE COLUMN WIDTH                           
STACKLNO DS    XL1                 STACK COLUMN WIDTH                           
FLOWSTRT DS    XL1                 START OF FLOW PERIOD INDICATOR               
FLOWEND  DS    XL1                 END   OF FLOW PERIOD INDICATOR               
*                                                                               
* ADDRESSABLE SPARE AREA                                                        
*                                                                               
         EJECT                                                                  
       ++INCLUDE DRONEBLKD                                                      
       ++INCLUDE PRVALPARMS                                                     
         EJECT                                                                  
*                                                                               
* PRNTBLOCK                                                                     
*                                                                               
DUMPPRIO DS    D                   *PRNTIO* IN DUMP                             
         SPACE 1                                                                
       ++INCLUDE PRNTBLOCK                                                      
         EJECT                                                                  
*                                                                               
*        STORAGE REDEFINES OF OFF-LINE AREAS FOR ON-LINE                        
*                                                                               
SYSD     DSECT                                                                  
         ORG   PBGRS               AREA NOT USED IN VALIDATION                  
*                                                                               
ROWCOLSW DS    X                   ROW/COLUMN INDICATOR                         
ROWCOLXQ EQU   X'80'               ROW/COL EXTENDED TO NEXT ONE                 
ROWCOL2Q EQU   X'40'               PROCESSING CONTINUATION FIELD                
*                                                                               
HDGOVRSW DS    C                   C'Y' - HEADING BEING OVERRIDDEN              
XBOXSW   DS    C                   C'Y' - ADD 2 TO REPORT WIDTH FOR             
*                                         EXTRA COLUMN                          
SVESTDA  DS    XL4                 ESTIMATE DISK ADDRESS                        
*                                     ONLY AVAILABLE IF SPECIFIC                
*                                     CLT/PRD/EST ENTERED                       
FLDNMBR  DS    X                   NUMBER OF CURRENT FIELD                      
CLASTLBL DS    X                   LABEL OF LAST ENTERED COLUMN                 
FCHRTITR DS    X                   FLOWCHART ITERATION COUNTER                  
FLDINSET DS    X                   DISPLACEMENT OF DATA INTO INPUT              
PERTOTSW DS    C                   C'Y' - PERIOD TOTAL ENCOUNTERED              
*                                                                               
STACKH1L DS    XL1                 LENGTH OF STACK HEADLINE 1                   
STACKH1  DS    CL24                STACK HEADLINE 1                             
STACKH2L DS    XL1                 LENGTH OF STACK HEADLINE 2                   
STACKH2  DS    CL24                STACK HEADLINE 2                             
*                                                                               
BRANDSW  DS    CL1                 C'Y' - BRAND AGENCY FOR AOR DATA             
*                                                                               
SPECOPT2 DS    XL1                 SECOND BYTE OF DOWNLOAD OPTIONS              
SPECCHAR DS    CL1                 CHARACTER USED IN DOWNLOADING TOTALS         
*                                                                               
HELPCBLK DS    XL(HELPCBL)         DDHELP CONTROL BLOCK                         
*                                                                               
SCANSEP  DS    X                   KEYWORD SEPARATOR - =, <, > OR NULLS         
*                                                                               
*        FIELDS FOR HANDLING SECOND REPORT                                      
*                                                                               
RP2ID    DS    CL8                 SECOND REPORT ID                             
*                                                                               
VARSAVE  DS    3XL42               SAVEAREAS FOR VARIABLES                      
AMPERSND EQU   C'&&'               EQUATE TO SIMPLIFY CODING                    
CLVMEDSV DS    CL1                 MEDIA SAVEAREA                               
*                                                                               
TRAFID   DS    CL1                 C'T' - TRAFFIC SIGN-ON                       
*                                                                               
VALSWTCH DS    XL1                 VARIOUS SWITCHES                             
ESTPERQ  EQU   X'80'               PERIOD COMES FROM ESTIMATE PERIOD            
*                                                                               
         DS    0D                                                               
SOFDATC  DS    XL(SOFDATL)         SOFT DATES WORKAREA                          
*                                                                               
         EJECT                                                                  
*                                                                               
* THE REST                                                                      
*                                                                               
SYSD     DSECT                                                                  
         ORG                                                                    
*                                                                               
STARTSV  DS    0F                  START OF SYSTEM SAVE AREA                    
         DS    D                   **BUFF** IN DUMP                             
BUFF     DS    0C                                                               
         DS    D                   **DPG*** IN DUMP                             
         DS    3500C                                                            
         DS    D                   **DPGIO* IN DUMP                             
         DS    1000C                                                            
VLTABC   DS    256X                DDVAL TABLE                                  
FLTTABC  DS    30XL1               FILTERS IN INTERNAL FORM                     
*                                    ONE SECTION FOR EACH FIELD ENTRY           
EDITLIST DS    16F                 EDIT WORKAREA                                
*                                                                               
*******  DS    2000C               ** SPARE FOR ONLINE TESTING **               
*                                                                               
*                                                                               
SYSEND   DS    0C                  END OF SAVED STORAGE                         
         EJECT                                                                  
* ERROR MESSAGES FOR FILE MAINTENANCE (SYSTEM 25)                               
*                                                                               
INVMED   EQU   61                  INVALID MEDIA                                
INVCLT   EQU   62                  INVALID CLIENT                               
INVPRD   EQU   63                  INVALID PRODUCT                              
INVEST   EQU   64                  INVALID ESTIMATE                             
INVDIV   EQU   65                  INVALID DIVISION                             
INVREG   EQU   66                  INVALID REGION                               
INVDST   EQU   67                  INVALID DISTRICT                             
INVDTYP  EQU   68                  INVALID DATE TYPE                            
INVDTSEQ EQU   69                  START DATE IS AFTER END DATE                 
INVPUB   EQU   70                  INVALID PUBLICATION                          
         EJECT                                                                  
PPBVALDS DSECT                                                                  
       ++INCLUDE PPBVALD                                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        DDHELP DSECTS                                                *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
       ++INCLUDE PRHELPCB                                                       
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        DDMENU DSECTS                                                *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
       ++INCLUDE DDMENUBLK                                                      
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        BUFFER WORKAREA GOTTEN ON CALL TO GENCON                     *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
BUFFWRKD DSECT                                                                  
*                                                                               
BUFFLTTB DS    D                   **FLTTAB IN DUMP                             
FLTTABBF DS    XL(FTBENTNM*FLTAREAL) COLUMN FILTERS                             
BUFFWRKL EQU   *-BUFFWRKD          LENGTH OF BUFFER AREAS                       
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        STACK BUFFER AREA                                            *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
STACKBFD DSECT                                                                  
*                                                                               
STBFBXLE DS    0A                  BXLE REGISTERS FOR BUFFER                    
STBFSTA  DS    A                   A(FIRST SAVED KEYWORD)                       
STBFLEN  DS    AL4                 BUFFER ENTRY LENGTH                          
STBFENA  DS    A                   A(LAST  SAVED KEYWORD)                       
         DS    XL52                SPARE                                        
STBFSTRT DS    0X                  BUFFER START                                 
*                                                                               
STACKBF  DS    XL(16*STBFENTL)     STACK SAVEAREA                               
STACKBFL EQU   *-STACKBFD          LENGTH OF BUFFER                             
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        STACK BUFFER ENTRY                                           *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
STBFENTD DSECT                                                                  
*                                                                               
STBFDBLK DS    XL(DRINFEND-DRLENIN)  DRONE BLOCK SAVEAREA                       
STBFSBLK DS    XL42                  SCANNER BLOCK SAVEAREA                     
*                                                                               
STBFENTL EQU   *-STBFENTD          LENGTH OF BUFFER ENTRY                       
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        PRINT QUEUE INDEX BUFFER ENTRY                               *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PQINDEX  DSECT                                                                  
PQKEYWRD DS    CL8                 KEYWORD                                      
PQAOUT   DS    F                   A(OUTPUT AREA)                               
PQSTATUS DS    X                   STATUS BYTE                                  
PQCHG    EQU   X'80'                DATA HAS CHANGED                            
*        EQU   X'40'               *** UNUSED ***                               
*        EQU   X'20'               *** UNUSED ***                               
*        EQU   X'10'               *** UNUSED ***                               
*        EQU   X'08'               *** UNUSED ***                               
*        EQU   X'04'               *** UNUSED ***                               
*        EQU   X'02'               *** UNUSED ***                               
*        EQU   X'01'               *** UNUSED ***                               
*                                                                               
PQOUTLEN DS    X                   OUTPUT LENGTH                                
PQPOSO   DS    C                   H=HEAD, M=MID, 0=ROW                         
         DS    X                   SPARE                                        
*                                                                               
PQHEAD1  DS    CL24                HEADLINE 1                                   
PQHEAD2  DS    CL24                HEADLINE 2                                   
PQHEAD3  DS    CL24                HEADLINE 3                                   
PQHEAD4  DS    CL24                HEADLINE 4                                   
*                                                                               
PQINDXEQ EQU   *-PQINDEX           BUFFER ENTRY LENGTH                          
*                                                                               
         TITLE 'SOFDATC'                                                        
***********************************************************************         
*                                                                     *         
*        SOFT DATES CONTROL BLOCK                                     *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
       ++INCLUDE DDSOFDATD                                                      
*                                                                               
         EJECT                                                                  
