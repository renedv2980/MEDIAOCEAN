*          DATA SET PRNTBLOCKS AT LEVEL 019 AS OF 08/04/94                      
***********************************************************************         
*                                                                     *         
*              PRNTBLOCK - I/O AND DATA SELECTIONS                    *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBLOCK   DS    D                                                                
*                                                                               
*        SYSTEM ADDRESSES                                                       
*                                                                               
PBCOMFAC DS    A                   A(COMFACS)                                   
PBAIO1   DS    A                   A(IOAREA1)                                   
PBAIO2   DS    A                   A(IOAREA2)                                   
PBAIO3   DS    A                   A(IOAREA3)                                   
PBIOHOOK DS    A                   A(IOHOOK)                                    
PBEXHOOK DS    A                   A(EXTRACT HOOK)                              
PBPRINT  DS    V                   V(PRINT) (NEEDED FOR TRACE)                  
PAGETINS DS    F                   ADDRESS OF GETINS (IN I/O)                   
ADRIVER  DS    F                   A(DRIVER)                                    
PBUTLA   DS    A                   A(UTL)                                       
PBPLEDCB DS    A                   A(MISSING PUB LINK DCB)                      
         DS    13V                 SPARE                                        
*                                                                               
*                                                                               
PBMODEQ  DS    D                   ** MODES **                                  
PBMODE   DS    X                                                                
PBPROCAM EQU   1                   PROCESS AGY/MED                              
PBPROCCL EQU   2                   PROCESS CLIENT                               
PBPROCDV EQU   3                   PROCESS DIVISION                             
PBPROCRG EQU   4                   PROCESS REGION                               
PBPROCDS EQU   5                   PROCESS DISTRICT                             
PBPROCPR EQU   6                   PROCESS PRODUCT                              
PBPROCES EQU   7                   PROCESS ESTIMATE                             
PBPROCIN EQU   10                  PROCESS AN INSERTION                         
PBPROCBL EQU   20                  PROCESS A BILL                               
PBPROCBK EQU   25                  PROCESS A  EST BUCKET RECORD                 
*                                  ONE ELEM AT A TIME                           
PBPROCBY EQU   30                  PROCESS A BUY                                
PBPROCCO EQU   40                  PROCESS A CONTRACT                           
PBPROCIS EQU   50                  PROCESS AN ISSUE                             
*                                                                               
PBRTCODE DS    X                   RETURN CODE-APPLICATION MAINTAINED           
PBRTMORQ EQU   1                   RETURN POINTING TO LAST RECORD               
*                                    MORE DATA TO BE EXTRACTED                  
         DS    XL6                 SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        DATA RELATED TO ORIGINAL REQUEST                             *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBQAREA  DS    D                   ** REQUEST SELECTIONS **                     
*                                                                               
PBQID    DS    CL2                 ID NUMBER OR...                              
PBQAGY   DS    CL2                 AGENCY                                       
PBQMED   DS    CL1                 MEDIA                                        
PBQCLT   DS    CL3                 CLIENT                                       
PBQDIV   DS    CL3                 DIVISION                                     
PBQRGN   DS    CL3                 REGION                                       
PBQDST   DS    CL3                 DISTRICT                                     
PBQPRD   DS    CL3                 PRODUCT                                      
PBQEST   DS    CL3                 ESTIMATE                                     
PBQESTX  DS    CL3                 END ESTIMATE (OR FILTERS)                    
         DS    0H                                                               
PBQESTB  DS    CL2                 START EST BINARY                             
PBQESTBX DS    CL2                 END EST BINARY                               
PBQPUB   DS    CL4                 PUBLICATION CODE (PWOS)                      
PBQZON   DS    CL1                 ZONE (PWOS)                                  
PBQEDT   DS    CL1                 EDITION                                      
PBQOFF   DS    CL3                 CLIENT OFFICE                                
PBQADC   DS    CL6                 ADCODE                                       
PBQSTDAY DS    CL1                 START DAY (MON, TUES, ETC)                   
*                                                                               
PBQCLTSW DS    CL1                 ADVERTISER CLIENT PROCESSING SWITCH          
PBQADVSW DS    CL1                 ADVERTISER PROCESSING SWITCH                 
PBQADV   DS    CL3                 ADVERTISER CODE                              
PBQQAGY  DS    CL2                 ADVERTISER REQUESTED AGENCY                  
PBQQCLT  DS    CL3                 REQUESTED CLIENT FOR ADVERTISER RPT          
*                                                                               
PBQMEDLS DS    CL8                 LIST OF MEDIAS FOR REPORT                    
*                                                                               
         DS    XL24                SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        REQUEST OPTIONS                                              *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBQTRACE DS    CL1                 C'Y' TO TURN ON TRACE                        
PBQZERO  DS    CL1                 C'Y' TO EXCLUDE ZERO BUYS                    
PBQDOWN  DS    XL1                 C'D' TO DOWNLOAD                             
PBQOAPRD DS    CL1                 C'Y' TO INCLUDE OTH AGY PRODUCTS             
PBQALLZN DS    CL1                 C'Y' FOR ALL ZONES/EDITIONS                  
PBQACTIV DS    CL1                 C'Y' READ ACTIVE BUYS ONLY                   
PBQPAID  DS    CL1                 C'P' INCLUDE PAID BUYS ONLY                  
*                                  C'U' INCLUDE UNPD BUYS ONLY                  
PBQBLLD  DS    CL1                 C'B' INCLUDE BILLED BUYS ONLY                
*                                  C'U' INCLUDE UNBLLD BUYS ONLY                
PBQSLAVE DS    CL1                 C'Y' TO PROCESS SLAVE CLIENTS                
PBQTEST  DS    CL1                 C'Y' TO INCLUDE TEST BUYS                    
*                                  C'N' ONLY NON-TEST BUYS                      
*                                  C'T' ONLY TEST BUYS                          
PBQNOPER DS    CL1                 C'Y' = IGNORE REQUEST PERIO                  
*                                  BLLD/PAID DATES MUST BE SPECIFIED            
PBQPRIOR DS    CL1                 C'Y'=INCLUDE PRIOR MONTHS (12)               
PBQCNRLE DS    CL1                 C'Y'  CONTRACT S/END DATE RULE               
PBQPZERO DS    CL1                 PRINT ZERO DOLLARS Y/N                       
PBQINLIN DS    PL1                 NEWSP INCH/LINE/BOTH OPTION                  
*                                  1C = INCH  2C=LINES 3C=BOTH                  
PBQTAPE  DS    CL1                 TAPE REQUEST                                 
PRGRAND  DS    CL1                 REPORT TOTALS                                
PBQADDGS DS    CL1                 ADD GST TO GROSS                             
*                                                                               
PBQCUT   DS    CL1                 OPTIONS                                      
         ORG   PBQCUT                                                           
PBQPOPT  DS    CL1                                                              
PBQPOCUT EQU   X'80'               CUT PRINTOUT                                 
PBQPOBIL EQU   X'40'               PRINT ONLY BILLS IN  PERIOD                  
PBQPOSPL EQU   X'20'               DON'T SPLIT ZZZ BUYS                         
PBQPODEL EQU   X'10'               INCLUDE DELETED BUYS                         
PBQPOYYM EQU   X'08'               DATES IN YYMMDD DISPLAY                      
PBQPOCTY EQU   X'04'               YEAR IN CCYY FORM                            
PBQPOFLT EQU   X'02'               FLOAT MINUS SIGN IN FRONT OF AMOUNTS         
*                                                                               
PBQBLLOP DS    XL1                 BILL RECORD OPTIONS                          
PBQBCDQ  EQU   X'80'               INCLUDE CD IN ALL FIGURES                    
PBQBGSTQ EQU   X'40'               INCLUDE GST IN ALL BILLS                     
PBQBNBTQ EQU   X'20'               BILL TYPE ENTERED TO BE EXCLUDED             
PBQBUFCQ EQU   X'10'               UFC BILLS        INCLUDED/EXCLUDED           
PBQBNETQ EQU   X'08'               NET BILLS        INCLUDED/EXCLUDED           
PBQBCOMQ EQU   X'04'               COMMISSION BILLS INCLUDED/EXCLUDED           
PBQBAORQ EQU   X'02'               AOR        BILLS INCLUDED/EXCLUDED           
*                                                                               
         DS    XL32                SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        REQUEST FILTERS                                              *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBQQAGFL DS    CL3                 AGENCY FILTER                                
PBQQCLFL DS    CL3                 CLIENT FILTER                                
PBQDRDCL DS    CL3                 DRD CLIENT REQUEST               L01         
PASSPRD  DS    CL03                PASSIVE PRODUCT                              
PBQEFLT  DS    CL3                 ESTIMATE FILTERS                             
PBQADFLT DS    CL6                 AD FILTER C'*' = WILD CARD                   
PBQREPF  DS    CL05                REP FILTER PPPPX WHERE X IS P= PAY           
*                                  C=CONTRACT T=TRAFFIC  PPPP= REP#             
PBQPBLSH DS    CL4                 REQUESTED PUBLISHER                          
PBQSPD1L DS    XL1                 SPACE DESCRIPTION FILTER 1 LENGTH            
PBQSPDS1 DS    CL17                SPACE DESCRIPTION FILTER         L01         
PBQSPDS2 DS    CL17                SPACE DESCRIPTION FILTER 2       L01         
PBQSPD2L DS    XL1                 SPACE DESCRIPTION FILTER 2 LENGTH            
PBQFLTDA DS    CL1                 DATA TYPE FILTER (SECONDARY)                 
PBQCDFLT DS    CL1                 CASH DISCOUNT FILTER                         
PBQBTYPE DS    CL2                 BILL TYPE - SEE BILL RECORD                  
*                                    LEAD CHARACTER 'A' MEANS AOR BILL          
PBREFFLL DS    XL1                 REFERENCE NUMBER FILTER LENGTH               
PBREFFLT DS    XL10                REFERENCE NUMBER FILTER                      
*                                                                               
         DS    XL31                SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        REQUEST DATE RANGES/FILTERS                                  *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBQTODAY DS    CL6                 TODAY'S DATE (YYMMDD)                        
PBBTODAY DS    XL3                 BINARY TODAY'S DATE                          
PBQSTART DS    CL6                 START DATE (YYMMDD)                          
PBQEND   DS    CL6                 END DATE (YYMMDD)                            
PBQSTB   DS    XL3                 START DATE (YMD)                             
PBQENDB  DS    XL3                 END DATE (YMD)                               
PBQBST   DS    XL3                 BINARY START DATE                            
PBQBEND  DS    XL3                 BINARY END DATE                              
PBQBLLDT DS    XL3                 ONLY PRD/EST BILLED THIS DATE                
PBQBLLST DS    XL3                 BILLED START DATE (BILLED IN PERIOD)         
PBQBLLND DS    XL3                 BILLED END DATE                              
PBQDELST DS    XL3                 ACTIVITY START DATE OR FROM DATE             
PBQDELND DS    XL3                 ACTIVITY END (OPTIONAL)                      
PBQBRNST DS    XL3                 BILLING RUN  START DATE - YMD - BIN          
PBQBRNND DS    XL3                 BILLING RUN  END   DATE - YMD - BIN          
PBQBDUST DS    XL3                 BILLING DUE  START DATE - YMD - BIN          
PBQBDUND DS    XL3                 BILLING DUE  END   DATE - YMD - BIN          
PBQBIVST DS    XL3                 BILLING INV  START DATE - YMD - BIN          
PBQBIVND DS    XL3                 BILLING INV  END   DATE - YMD - BIN          
PBQBPSST DS    XL3                 BILLING POST START DATE - YMD - BIN          
PBQBPSND DS    XL3                 BILLING POST END   DATE - YMD - BIN          
*                                                                               
PBQPGDT  DS    XL3                 PG CUT OFF DATE                              
PBQATVST DS    XL3                 ACTIVITY START DATE - BINARY                 
PBQATVEN DS    XL3                 ACTIVITY END   DATE - BINARY                 
PBQCHGST DS    XL3                 CHANGES  START DATE - BINARY                 
PBQCHGEN DS    XL3                 CHANGES  END   DATE - BINARY                 
PBQCENST DS    XL3                 CONTRACT END  START DATE - BINARY            
PBQCENEN DS    XL3                 CONTRACT END  END   DATE - BINARY            
*                                                                               
         DS    XL31                SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        REQUEST INTERNAL SWITCHES                                    *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBQREAD  DS    X                   READ RECORD FLAG                             
PBQRDBUY EQU   X'80'               READ BUYS                                    
PBQRDBLS EQU   X'40'               READ BILLS                                   
PBQRDBKS EQU   X'20'               READ BUCKETS                                 
PBQRDCON EQU   X'10'               READ CONTRACTS                               
PBQRDPUB EQU   X'08'               READ PUB RECORD                              
PBQRDOAN EQU   X'04'               READ OAN RECORD                              
PBQRDISS EQU   X'02'               READ ISSUES                                  
*                                                                               
PBQGET   DS    X                   GET RECORD FLAG                              
PBQGTPRD EQU   X'80'               GET PRODUCT NAMES                            
PBQGTCON EQU   X'40'               GET CONTRACTS                                
PBQGTPUB EQU   X'20'               GET PUB RECORDS                              
*                                                                               
PBQDATYP DS    CL1                 DATE I=INSERT                                
*                                       C=CLOSING                               
*                                       S=ONSALE                                
*                                       P=PAYABLE                               
*                                       B=BILLABLE                              
*                                       M=MATERIALS CLOSING                     
*                                       O=INSERTION ORDER                       
*                                       U= UNPAID                               
*                                       K=CLEARANCE                             
*                                                                               
PBQSPLOP DS    CL1                 X'80' READ BUYS BY CONTRACT                  
PBQCONTR EQU   X'80'               READ BUYS BY CONTRACT                        
PBQIDELA EQU   X'40'               MAY HAVE TO INCLUDE DELETED BUYS             
*                                    FOR PAYABLE                                
PBQIDELB EQU   X'20'               MAY HAVE TO INCLUDE DELETED BUYS             
*                                    FOR BILLABLE                               
PBQIDELC EQU   X'10'               MAY HAVE TO INCLUDE DELETED BUYS             
*                                    FOR PAID                                   
PBQIDELD EQU   X'08'               MAY HAVE TO INCLUDE DELETED BUYS             
*                                    FOR BILLED                                 
PBQCLRQS EQU   X'04'               CLIENT RQSTED AS ROW/HEADER                  
PBQPBRQS EQU   X'02'               PUBLICATION RQSTED AS ROW/HEADER             
*                                                                               
DATAIND  DS    XL1                 DATA INDICATOR                               
DIEST    EQU   X'80'               ESTIMATE                                     
DICLT    EQU   X'40'               NEED CLIENT REC IN CORE                      
DIPRD    EQU   X'20'               NEED PRODUCT REC IN CORE                     
DIESTREC EQU   X'10'               NEED EST REC IN CORE                         
DPROFDEF EQU   X'01'               NEED EST AND PROD DEFAULT PROFILE            
DIREPB   EQU   X'02'               NEED REP BUFFER                              
DIPUBLSH EQU   X'04'               NEED PUBLISHER IN CORE                       
DIAORREC EQU   X'08'               NEED AOR RECORD IN CORE                      
*                                                                               
PBQINIT  DS    CL1                 0=INITIALIZE FOR REQUEST                     
PBRETURN DS    CL1                 RETURN CODE NEXT TIME IN                     
PBFLAVOR DS    CL01                FLAVOR C=CONTRACT B=BUY (B=DEFAULT           
*                                  O=CONTRACT ONLY, L=BILLONLY)                 
PBQTOTTY DS    CL1                 TOTAL TYPE                                   
TOTTYPN  EQU   X'01'               NORMAL  (NO SPECIAL PROCESSING)              
TOTTYPNT EQU   X'02'               NORMAL FOLLOWED BY TEST TOTAL                
TOTTYPLT EQU   X'04'               LIVE FOLLOWED BY TEST                        
*                                                                               
PBQPRTYP DS    XL1                 PERIOD TYPE                                  
PBQPRMOS EQU   C'O'                PERIOD DATES ARE MONTH OF SERVICE            
*                                                                               
PBBYOPTS DS    XL1                 BUY RECORD OPTIONS                           
PBBYPAYQ EQU   X'80'               PROCESS PAY ELEMENTS                         
PBBYBLLQ EQU   X'40'               PROCESS BILL ELEMENTS                        
PBBYBUYQ EQU   X'20'               PROCESS BUY RECORDS FOR DATA                 
PBBYBHDQ EQU   X'10'               PROCESS BILL HEADERS FOR DATA                
PBBYCLSQ EQU   X'08'               BUILD CLEARANCE STATUS RECORD TABLE          
PBBYBHTQ EQU   X'04'               BUILD BILL HEADER RECORD TABLE               
PBBYCHGQ EQU   X'02'               INCLUDE ONLY BUYS CHANGED IN PERIOD          
PBBYCSPQ EQU   X'01'               DROP BUYS WITH SPACE(1) = C'*'               
*                                   IE BUYS NOT BELONGING TO CONTRACT           
*                                                                               
PBQREQFL DS    C                   ROW/HEADER REQUESTS                          
*                                                                               
PBQPTSW  DS    XL1                 PERIOD TYPE                                  
PBQPTTLQ EQU   X'80'               TWO LEVEL TOTALS NEEDED                      
PBQPTDQQ EQU   X'40'               DETAILS BY QUARTER                           
PBQPTDMQ EQU   X'20'               DETAILS BY MONTH                             
PBQPTDWQ EQU   X'10'               DETAILS BY WEEK                              
PBQPTTQQ EQU   X'04'               TOTALS  BY QUARTER                           
PBQPTTMQ EQU   X'02'               TOTALS  BY MONTH                             
PBQPTTWQ EQU   X'01'               TOTALS  BY WEEK                              
*                                                                               
PBQDRDSW DS    XL1                 DIV/REG/DIS SWITCH                           
PBQDRDYQ EQU   C'D'                REQUEST BY DIV/REG/DIS                       
*                                                                               
PBQ$DTYP DS    XL1                 MONEY FIELD DATE TYPE FOR FLOWCHART          
*                                                                               
PBQSPCTL DS    XL1                 SPACE FIELD CONTROL                          
*                                                                               
         DS    XL16                SPARE                                        
*                                                                               
PBQAREAX DS    0X                  END OF REQUEST AREA                          
PBQAREAL EQU   PBQAREAX-PBQAREA    LENGTH OF REQUEST AREA                       
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        SAVEAREAS ADDRESSES                                          *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBAGYADR DS    A                   OPTIONAL ADDRESS FOR AGENCY                  
PBAGYLEN DS    A                   LENGTH OF AGENCY AREA                        
PBCLTADR DS    A                   OPTIONAL ADDRESS FOR CLIENT STORAGE          
PBCLTLEN DS    A                   LENGTH OF CLIENT AREA                        
PBPRDADR DS    A                   OPTIONAL ADDRESS FOR PRODUCT                 
PBPRDLEN DS    A                   LENGTH OF PRODUCT AREA                       
PBESTADR DS    A                   OPTIONAL ADDRESS FOR ESTIMATE                
PBESTLEN DS    A                   LENGTH OF ESTIMATE AREA                      
PBABUY   DS    A                   ADDRESS OF BUY RECORD                        
PBPRDFLT DS    A                   PRODUCT BILLING DEFAULT (PROD AAA)           
PBESTFLT DS    A                   ESTIMATE BILLING DEFAULT  AAA                
AORECORD DS    A                   ADDRESS OF AOR RECORD                        
*                                                                               
PBQCOM1  DS    A                   STANDARD COMMENT 1  ADDRESS    L01           
PBQCOM2  DS    A                   STANDARD COMMENT 2  ADDRESS    L01           
*                                                                               
*                                                                               
PBASVHED DS    A                   ADDRESS OF HEAD LINE 4 SAVE AREA             
PBT2PTR  DS    A                   ADDRESS OF NEXT AVAIL CORE SAVE              
*                                   IN T40502 WORKING STORAGE                   
PBALTLRC DS    A                   ADDRESS OF LITTLE RECORD IN I/O              
PBALTLEL DS    A                   ADDRESS OF 1ST LTL EL FOR SPLIT DRD          
PBAIOWRK DS    A                   ADDRESS OF IO WORK AREA                      
PBABILLB DS    A                   ADDRESS OF EST BILL PROFILE                  
PBPBLSHA DS    A                   PUBLISHER RECORD ADDRESS (PUBLSHER           
PBPBLSLN DS    A                   REQUESTED)  REC LEN                          
PBQCRTA  DS    A                   A(CURRENT CONTRACT RATE ELEMENT)             
PBQCONDA DS    XL4                 CONTRACT DISK ADDRESS                        
*                                                                               
         DS    32A                 SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        BUFFER ADDRESSES                                             *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBABUFFS DS    CL8                 ** EXTRACT BUFFERS **                        
*                                                                               
PBAMEDBF DS    A                   A(MEDIA BUFFER)                              
PBLMEDBF DS    A                   MED BUFFER LENGTH                            
PBCMEDBF DS    A                   MED BUFFER RECORD COUNT                      
*                                                                               
PBACLTBF DS    A                   A(CLIENT BUFFER)                             
PBLCLTBF DS    A                   CLT BUFFER LENGTH                            
PBCCLTBF DS    A                   CLT BUFFER RECORD COUNT                      
*                                                                               
PBAPRDBF DS    A                   A(PRODUCT BUFFER)                            
PBLPRDBF DS    A                   PRD BUFFER LENGTH                            
PBCPRDBF DS    A                   PRD BUFFER RECORD COUNT                      
*                                                                               
PBAESTBF DS    A                   A(ESTIMATE BUFFER)                           
PBLESTBF DS    A                   EST BUFFER LENGTH                            
PBCESTBF DS    A                   EST BUFFER RECORD COUNT                      
*                                                                               
PBADRDBF DS    A                   A(DIV/RGN/DST BUFFER)                        
PBLDRDBF DS    A                   DRD BUFFER LENGTH                            
PBCDRDBF DS    A                   DRD BUFFER RECORD COUNT                      
*                                                                               
PBAADBF  DS    A                   AD BUFFER ADDRESS                            
PBLADBF  DS    A                   AD BUFFER LENGTH                             
*                                                                               
PBAOFFBF DS    A                   ADDRESS OF OFF-LINE WORK BUFFER              
PBAREPBF DS    A                   ADDRESS OF OFF-LINE REP BUFFER               
*                                                                               
PBABHDBF DS    A                   BILL HEADER RECORD TABLE ADDRESS             
PBLBHDBF DS    A                   BILL HEADER RECORD TABLE LENGTH              
*                                                                               
PBACLSBF DS    A                   CLEARANCE STATUS TABLE ADDRESS               
PBLCLSBF DS    A                   CLEARANCE STATUS TABLE LENGTH                
*                                                                               
PBASVBBF DS    A                   STACK VALUES BUFFER ADDRESS                  
PBLSVBBF DS    A                   STACK VALUES BUFFER LENGTH                   
*                                                                               
FLTTABA  DS    A                   FILTER TABLE ADDRESS                         
FLTFLTRA DS    A                   FILTER THIS KEYWORD ADDRESS                  
*                                                                               
PBACONTB DS    A                   CONTRACT TABLE ADDRESS                       
*                                                                               
         DS    16A                 SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        ADDRESSES FOR CURRENT ELEMENTS BEING PROCESSED               *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBPAYELA DS    A                   A(BUY PAY  ELEMENT)                          
PBCLSELA DS    A                   A(CLEARANCE STATUS TABLE ENTRY)              
*                                                                               
PBBLLELA DS    A                   A(BUY BILL ELEMENT)                          
PBBHDELA DS    A                   A(BILL HEADER TABLE ENTRY)                   
*                                                                               
PBISSELA DS    A                   A(ISSUE ELEMENT)                             
*                                                                               
         DS    16A                 SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        MISCELLANEOUS FIELDS                                         *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
OLDREG   DS    CL3                                                              
OLDDST   DS    CL3                                                              
CONTPROD DS    CL3                 CONTRACT BY PRODUCT                          
PBDTADSP DS    H                   DISPLACEMENT TO ELEMENTS                     
TOTROWID DS    CL1                 TOTAL WIDTH OF ROWS                          
NUMOFROW DS    CL1                 NUMBER  OF ROWS ENTERED                      
*                                                                               
PBQCOM1P DS    X                   STCOM1 PRINT POSITION                        
PBQCOM2P DS    X                   STCOM2 PRINT POSITION                        
PBQCOMFQ EQU   X'80'               PRINT AT START OF REPORT                     
PBQCOMLQ EQU   X'40'               PRINT AT END  OF REPORT(DEFAULT)             
*                                                                               
SAVERD01 DS    F                                                                
LEVELCON DS    CL14                LEVEL TOTAL CONTROL                          
WILDCARD DS    CL1                                                              
PGSTAXG  DS    F                   GSTAX                                        
PGSTXPD  DS    F                   PAID GST                                     
LEVELTYP DS    XL16                ID'S OF HEAD, MID AND ROW                    
PBQKYWDN DS    PL2                 NUMBER OF BUY RELATED KEYWORDS               
PBMINLNS DS    H                   MIN NUMBER LINES TO PRINT                    
*                                                                               
         DS    XL32                SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        KEYS                                                         *         
*                                                                     *         
***********************************************************************         
         DS    D                   USED BY I/O CONTROLLER                       
PBKEY    DS    CL33                KEY                                          
PBKEYSV  DS    CL33                LAST KEY                                     
PBKEY2   DS    CL33                SPARE KEY                                    
IOKEYSVE DS    CL32                                                             
*                                                                               
         DS    XL37                SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        CURRENT VALUES OF KEY FIELDS                                 *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
         DS    D            *****  ACTUAL KEY VALUES *****                      
PBAGY    DS    CL2                 AGENCY                                       
PBMED    DS    CL1                 MEDIA                                        
PBCLT    DS    CL3                 CLIENT                                       
PBDIV    DS    CL3                 DIVISION                                     
PBRGN    DS    CL3                 REGION                                       
PBDST    DS    CL3                 DISTRICT                                     
PBPROD   DS    CL3                 PRODUCT                                      
PBEST    DS    XL2                 ESTIMATE                                     
PBPUB    DS    XL4                 PUB                                          
PBZONE   DS    XL1                 ZONE                                         
PBACTED  DS    XL1                 EDITION                                      
PBINSDT  DS    XL3                 INSERTION DATE (YMD)                         
PBACTLIN DS    XL1                 LINE NUMBER                                  
PBSLAVE  DS    CL3                 CURRENT SLAVE CLIENT                         
PBOFFIC  DS    CL3                 OFFICE CODE                                  
PBOANCOD DS    CL2                 OTHER AGENCY CODE              L01           
*                                                                               
PBSPROF  DS    CL16                SYSTEM (P0) PROFILE                          
PBPPROF  DS    CL16                PROGRAM PROFILE                              
PBAGYPRF DS    CL30                AGENCY PROFILE                               
PBCLTPRF DS    CL30                CLIENT PROFILE                               
PBCPROF  DS    CL32                BILLING GROUP PROFILE                        
PBQPRFW0 DS    CL16                W0 PROFILE                                   
*                                                                               
PBMEDNM  DS    CL10                MEDIA NAME                                   
PBCLTNM  DS    CL20                CLIENT NAME                                  
PBCOFF   DS    CL3                 OFFICE CODE (ONE BYTE)                       
         ORG   *-1                                                              
PBCBLGP  DS    CL1                 BILLING GROUP                                
PBPRDNM  DS    CL20                PRODUCT NAME                                 
PBPUBNM  DS    CL20                PUBLICATION NAME                             
PBESTNM  DS    CL20                ESTIMATE NAME                                
PBDIVNM  DS    CL20                DIVISION NAME                                
PBREGNM  DS    CL20                REGION NAME                                  
PBDSTNM  DS    CL20                DISTRICT NAME                                
PBZONAM  DS    CL20                ZONE NAME                                    
PBOANAME DS    CL34                OTHER AGENCY NAME + CODE       L01           
PBFINAN  DS    CL1                 FINANCIAL                                    
PBACCTNO DS    CL4                 PRODUCT ACCOUNT NUMBER                       
         DS    CL34                                                             
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        AOR REPORT PROCESSING FIELDS                                 *         
*                                                                     *         
*                      FIELDS MARKED WITH C'*' ARE FROM REQUEST       *         
***********************************************************************         
         SPACE 1                                                                
PAOBLK   DS    0D                  AOR CONTROL BLOCK                            
PAOACT   DS    X       *           ACTION                                       
PAOINITQ EQU   4                   INITIALIZE                                   
PAOAGYQ  EQU   8                   RETURN NEXT AGENCY                           
PAOCLTQ  EQU   12                  RETURN NEXT CLIENT                           
PAOICLQ  EQU   16                  INIT   CLIENT                                
*                                                                               
PAOERR   DS    X                   ERROR CODE                                   
PAOEOFQ  EQU   1                   END OF PROCESSING                            
PAOFTLQ  EQU   X'FF'               ANY OTHER ERROR                              
*                                                                               
PAOPLESW DS    CL1                 C'Y' PUB LINK ERRORS EXIST                   
         DS    CL1                 SPARE                                        
*                                                                               
PAORQSE  DS    XL1     *           REQUESTING SYSTEM NUMBER                     
PAORQADV DS    CL3     *           REQUESTING ADVERTISER CODE                   
PAORQAGY DS    CL2     *           REQUESTING AGENCY                            
*                                                                               
PAOQAGY  DS    CL2     *           REQUESTED AGENCY                             
*                                    NULLS MEANS ALL AGENCIES                   
PAOQMED  DS    CL1     *           REQUESTED MEDIA                              
PAOQCLT  DS    CL3     *           REQUESTED CLIENT                             
*                                    NULLS MEANS ALL CLIENTS                    
*                                                                               
PAORSYS  DS    XL1                 AOR PRINT  NUMBER                            
PAORSE   DS    XL1                 AOR SYSTEM NUMBER                            
PAORAGY  DS    CL2                 AOR AGENCY                                   
PAORMCL  DS    CL3                 AOR MASTER CLIENT                            
PAORCLT  DS    CL3                 AOR CLIENT                                   
PAORCLTA DS    A                   AOR CLIENT HEADER ADDRESS                    
PAORPUB  DS    0XL6                AOR PUB CODE     |  PUB PROCESSING           
PAORPUB# DS    PL4                 AOR PUB NUMBER   |   FIELDS                  
PAORZON  DS    CL1                 AOR PUB ZONE     |                           
PAORED   DS    CL1                 AOR PUB EDITION  |                           
*                                                                               
PAOSYS   DS    XL1                 PRINT  NUMBER                                
PAOSE    DS    XL1                 SYSTEM NUMBER                                
PAOAGY   DS    CL2                 AGENCY                                       
PAOMCL   DS    CL3                 MASTER CLIENT                                
PAOCLT   DS    CL3                 CLIENT                                       
PAOCLTST DS    XL3                 CLIENT START DATE                            
PAOCLTEN DS    XL3                 CLIENT END DATE                              
PAOCCNTL DS    XL3                 CLIENT CONTROL BYTES                         
PAOPUB   DS    0XL6                PUB CODE         |  PUB PROCESSING           
PAOPUB#  DS    PL4                 PUB NUMBER       |   FIELDS                  
PAOZON   DS    CL1                 PUB ZONE         |                           
PAOED    DS    CL1                 PUB EDITION      |                           
*                                                                               
PAOSESAV DS    XL1                 CURRENT SE SAVEAREA                          
*                                                                               
         DS    XL16                SPARE                                        
*                                                                               
PAOBLKL  EQU   *-PAOBLK            CONTROL BLOCK LENGTH                         
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        GETINS OUTPUT AREA                                           *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PBACTUAL  DS    D                  GETINS OUTPUT VALUES                         
*                                                                               
* ORDERED DATA                                                                  
*                                                                               
PBGRS     DS   F                   GROSS ORDERED                                
PBGYCOM   DS   F                   AGENCY COMMISSION                            
PBCD      DS   F                   CASH DISCOUNT                                
PBPYABLE  DS   F                   GROSS-AGYCOMM-CASHDSC                        
PBBLABLE  DS   F                   GROSS-CASHDSC                                
PBPREM    DS   F                   (INCLUDED IN ABOVE FIELDS)                   
PBUNITS   DS   F                   NUMBER OF LINES BOUGHT                       
*                                                                               
* PAID DATA                                                                     
*                                                                               
PBPGROSS DS    F                   GROSS PAID                                   
PBPAGCOM DS    F                   AGY COMM PAID                                
PBPCSHDS DS    F                   CASH DISCOUNT PAID                           
PBPAID   DS    F                   ACTUAL PAID                                  
PBTAX    DS    F              WAS  PAYABLE DATE (YMD)                           
*                                 *** NOW TAX (ORDERED)                         
*                 TAX  INCLUDED IN PBGROSS, PBPYABLE, PBBLABLE                  
*                 TAX CALCUATED  NET(GROSS-COM) X PBDTAX ( 4 DECIMALS)          
*                                                                               
* BILLED DATA                                                                   
*                                                                               
PBBGROSS DS    F                   GROSS BILLED                                 
PBBAGCOM DS    F                   AGY COMM BILLED                              
PBBCSHDS DS    F                   CASH DISCOUNT BILLED                         
PBBILLED DS    F                   ACTUAL BILLED AMOUNT (G-COMM-CD)             
PBBLBLDT DS    CL3                 BILLABLE DATE -YMD                           
*                                                                               
PBVALUEX DS    0C                                                               
*                                                                               
*           *** OPEN RATE  OUTPUT PARAMETER BLOCK FOR GETINS ****               
*                                                                               
* ORDERED DATA FOR OPEN RATES                                                   
*                                                                               
OGROSS   DS    F                   GROSS ORDERED                                
OAGYCOM  DS    F                   AGENCY COMMISSION                            
OCSHDSC  DS    F                   CASH DISCOUNT                                
OPYABLE  DS    F                   GROSS-AGYCOMM-CASHDSC                        
OBLABLE  DS    F                   GROSS-CASH DSC                               
OPREMIUM DS    F                   (INCLUDED IN ABOVE FIELDS)                   
OUNITS   DS    F                   NUMBER OF LINES BOUGHT                       
*                                                                               
***** NOTE ORDERED TAX UNDER PAID DATA                                          
* PAID DATA                                                                     
*                                                                               
OPGROSS  DS    F                   GROSS PAID                                   
OPAGYCOM DS    F                   AGY COMM PAID                                
OPCSHDSC DS    F                   CASH DISCOUNT PAID                           
OPAID    DS    F                   ACTUAL PAID AMOUNT                           
*                                                                               
OTAX     DS    F                   ORDERED TAX - WAS PAYABLE DATE               
*                          (INCLUDED IN ORDERED GROSS,PYABLE,BLABLE)            
*                                  NET X PBDTAX (4 DECIMALS)                    
*                                                                               
* BILLED DATA                                                                   
*                                                                               
OBGROSS  DS    F                   GROSS BILLED                                 
OBAGYCOM DS    F                   AGY COMM BILLED                              
OBCSHDSC DS    F                   CASH DISCOUNT BILLED                         
OBILLED  DS    F                   ACTUAL BILLED AMOUNT                         
OBLBLDT  DS    CL3                 BILLABLE DATE -YMD                           
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        PPBYOUT OUTPUT                                               *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PPBYOUTX DS   0F                                        RJS       L01           
PBYOINPT DS   A    A(INPUT)  PUBREC OR SPC DESC         RJS       L01           
PBYODTCN DS   A    A(DATCON)                            RJS       L01           
PBYOVALS DS   F    A(GETINS AREA)                       RJS       L01           
PBYOLNS  DS   F     LINES NEEDED TO PRINT               RJS       L01           
PBYOCTL  DS   C     SEE DOCUMENTATION FOR BIT SETTINGS  RJS       L01           
PBYOCTL2 DS   C     SEE DOCUMENTATION FOR BIT SETTINGS  RJS       L01           
         DS   XL6                                       RJS       L01           
*                                                                               
PBBYOUT  DS    0CL500                                                           
PBYSPC   DS    0CL40                                                            
PBYSPC1  DS    CL17                                                             
         DS    CL3                 FOR OUTD CAN BE 2X20 LINES                   
PBYSPC2  DS    CL20                FOR NEWSPAPER SAU WILL HAVE (NNNNL)          
PBYINS   DS    CL8                 INSERT DATE (NO YEAR)                        
PBYINS2  DS    CL8                 2ND INS DATE                                 
PBYMDY   DS    CL11                FULL INS DATE WITH LINE NO.                  
PBYMDY2  DS    CL8                 FULL 2ND INS DATE (NO LINE NO.)              
PBYUNTS  DS    CL7                 UNITS                                        
PBYLBC   DS    CL17                LINES X COLS (NL X NCOLS)                    
PBYUR    DS    CL8                 UNIT RATE                                    
PBYPRM   DS    CL11                PREMIUM                                      
PBYGRS   DS    CL14                GROSS                                        
PBYBFD   DS    CL27                BFD/WO COMMENT                               
         DS    56C                 SPARE                                        
PBYCOMS  DS    CL235               COMMENTS (47X5)                              
PBYZZZ   DS    CL50                ZZZ ALLOC LINE                               
*                                                                               
PVALUESX DS    0C                                                               
*                                                                               
PBBLKEND EQU   *                                                                
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        GST DATA                                                     *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
       ++INCLUDE GVALUES                                                        
*                                                                               
GOVALUE  DS    XL(GVALUESL)        OPEN RATE GST DATA                           
PSTOAREA DS    10XL(PSTAREAL)      OPEN RATE PST DATA                           
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        AOR ELEMENT FROM CLIENT HEADER                               *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
AORELMSV DS    XL32                AOR ELEMENT SAVEAREA                         
*                                                                               
         DS    XL128               SPARE                                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        MEDIA BUFFER                                                 *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
MEDBUFFD DSECT                                                                  
MBFMED   DS    CL1                 MEDIA CODE                                   
MBFNAME  DS    CL10                MEDIA NAME                                   
MBFLEN   EQU   *-MEDBUFFD                                                       
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        CLIENT BUFFER                                                *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
CLTBUFFD DSECT                                                                  
CBFMED   DS    CL1                 MEDIA CODE                                   
CBFCLT   DS    CL3                 CLIENT CODE                                  
CBFNAME  DS    CL20                CLIENT NAME                                  
CBFLEN   EQU   *-CLTBUFFD                                                       
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        PRODUCT BUFFER                                               *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
PRDBUFFD DSECT                                                                  
PBFPRD   DS    CL3                 PRODUCT CODE                                 
PBFDIV   DS    CL3                 DIVISION CODE                                
PBFNAME  DS    CL20                PRODUCT NAME                                 
PBFBLBAS DS    CL1                 BILL FORMULA BASIS                           
PBFBLFRM DS    CL5                 BILL FORMULA                                 
PBFOANCD DS    CL2                 OTHER AGENCY CODE              L01           
PBFACCTN DS    CL4                 ACCOUNT NUMBER                 L01           
PBFLEN   EQU   *-PRDBUFFD                                                       
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        ESTIMATE BUFFER                                              *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
ESTBUFFD DSECT                                                                  
EBFMED   DS    CL1                 MEDIA CODE                                   
EBFCLT   DS    CL3                 CLIENT CODE                                  
EBFPRD   DS    CL3                 PRODUCT CODE                                 
EBFEST   DS    XL2                 ESTIMATE NUMBER                              
EBFKEYLN EQU   *-ESTBUFFD                                                       
EBFNAME  DS    CL20                ESTIMATE NAME                                
EBFNAM2  DS    CL20                ESTIMATE NAME 2                              
EBFBLBAS DS    CL1                 BILL FORMULA BASIS                           
EBFBLFRM DS    CL5                 BILL FORMULA                                 
EBFIND   DS    CL1                                                              
EBFIREAD EQU   X'80'               ESTIMATE READ                                
EBFIFLTR EQU   X'40'               PASSED FILTER                                
EBFIBLLD EQU   X'10'               BILLED TODAY                                 
EBFFLTR  DS    CL3                 ESTIMATE FILTER                              
EBFESTLK DS    CL1                 ESTIMATE STATUS - LOCKED                     
EBFESTTS DS    CL1                 ESTIMATE STATUS - TEST                       
EBFLEN   EQU   *-ESTBUFFD                                                       
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        DRD BUFFER                                                   *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
DRDBUFFD DSECT                                                                  
DRDDIV   DS    CL3                 DIV CODE                                     
DRDRGN   DS    CL3                 RGN CODE (X'00' = DIV REC)                   
DRDDST   DS    CL3                 DST CODE (X'00' = DST REC)                   
DRDNAME  DS    CL20                NAME                                         
DRDLEN   EQU   *-DRDBUFFD                                                       
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        REP BUFFER                                                   *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
REPBUFD  DSECT                                                                  
REPBUFM  DS    CL1                 MEDIA                                        
REPBUFN  DS    CL4                 REP CODE                                     
REPBUFNA DS    CL10                NAME                                         
REPBUDA  DS    CL4                 DISK ADDRESS OF NAME                         
REPBUFSE DS    XL1                 SE NUMBER                                    
REPBUFLN EQU   *-REPBUFD           NAME                                         
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        AD BUFFER                                                    *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
ADBUFD   DSECT                                                                  
*                                                                               
ADBUFBXL DS    0A                  BXLE PARMS FOR AD BUFFER                     
ADBUFSTA DS    A                   A(START OF BUFFER)                           
ADBUFLEN DS    A                   LENGTH  OF BUFFER ENTRY                      
ADBUFENA DS    A                   A(END   OF BUFFER)                           
*                                                                               
*        CONTROL FIELDS FOR AD BUFFER                                           
*                                                                               
ADBUFMED DS    C                   MEDIA                                        
ADBUFCLT DS    CL3                 CLIENT                                       
ADBUFPRD DS    CL3                 PRODUCT                                      
*                                                                               
ADBUFENT DS    0X                  BUFFER ENTRY                                 
ADBUFCDE DS    CL6                 AD CODE                                      
ADBUFFLT DS    CL6                 AD FILTER                                    
ADBUFIND DS    XL1                 AD INDICATOR                                 
ADBUFYES EQU   X'80'               AD PASSES FILTER                             
ADBUFPRH DS    XL4                 PRODUCTION HOUSE REP CODE                    
ADBUFLN  EQU   *-ADBUFENT          AD BUFFER ENTRY LENGTH                       
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        AD BUFFER                                                    *         
*                                                                     *         
***********************************************************************         
         SPACE 2                                                                
ADBFD    DSECT                                                                  
*                                                                               
ADBFBXLE DS    0A                  BXLE PARMS FOR AD BUFFER                     
ADBFSTA  DS    A                   A(START OF BUFFER)                           
ADBFLEN  DS    A                   LENGTH  OF BUFFER ENTRY                      
ADBFENA  DS    A                   A(END   OF BUFFER)                           
*                                                                               
*        CONTROL FIELDS FOR AD BUFFER                                           
*                                                                               
ADBFMED  DS    C                   MEDIA                                        
ADBFCLT  DS    CL3                 CLIENT                                       
ADBFPRD  DS    CL3                 PRODUCT                                      
*                                                                               
ADBFENT  DS    0X                  BUFFER ENTRY                                 
*                                                                               
ADBFIND  DS    XL1                 AD INDICATOR                                 
ADBFYES  EQU   X'80'               AD PASSES FILTER                             
*                                                                               
ADBFDISK DS    XL4                 JOBREC DISK ADDRESS                          
ADBFSE   DS    XL1                 JOBREC SE                                    
*                                                                               
ADBFHDLN EQU   *-ADBFENT           LENGTH OF BUFFER HEADER                      
*                                                                               
ADBFJBKY DS    XL33                JOB RECORD KEY                               
ADBFJBHD DS    XL255               JOB HEADER ELEMENT                           
*                                                                               
ADBFLN   EQU   *-ADBFENT           AD BUFFER ENTRY LENGTH                       
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        CLEARANCE STATUS TABLE BUFFER                                *         
*                                                                     *         
***********************************************************************         
CLSBUFD  DSECT                                                                  
*                                                                               
CLSKEYBS DS    XL(PPCLDATE-PPCLKEY)   BASIC KEY                                 
CLSKEYSV DS    XL32                CURRENT KEY SAVEAREA                         
CLSAIOSV DS    XL4                 CURRENT I/O AREA ADDRESS SAVEAREA            
CLSIO    DS    XL2000              CLEARANCE STATUS I/O AREA                    
*                                                                               
*        CONTROL FIELDS FOR CLEARANCE BUFFER                                    
*                                                                               
CLSBFBXL DS    0A                  BXLE PARMS FOR CLEARANCE BUFFER              
CLSBFSTA DS    A                   A(START OF BUFFER)                           
CLSBFLEN DS    A                   LENGTH  OF BUFFER ENTRY                      
CLSBFENA DS    A                   A(END   OF BUFFER)                           
*                                                                               
CLSBFENT DS    XL(PPCLELLN)        BUFFER ENTRY                                 
*                                                                               
*        USE DSECT FOR PPCLEL01                                                 
*                                                                               
CLSBFLN  EQU   *-CLSBFENT          BUFFER ENTRY LENGTH                          
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        BILL RECORD BUFFER                                           *         
*                                                                     *         
***********************************************************************         
BHDBUFD  DSECT                                                                  
*                                                                               
BHDBFBXL DS    0A                  BXLE PARMS FOR BILL HEADER BUFFER            
BHDBFSTA DS    A                   A(START OF BUFFER)                           
BHDBFLEN DS    A                   LENGTH  OF BUFFER ENTRY                      
BHDBFENA DS    A                   A(END   OF BUFFER)                           
*                                                                               
*        CONTROL FIELDS FOR BILL HEADER BUFFER                                  
*                                                                               
BHDBFENT DS    XL150               BUFFER ENTRY                                 
*                                                                               
*        USE DSECT FOR PBILLREC                                                 
*                                                                               
BHDBFLN  EQU   *-BHDBFENT          BUFFER ENTRY LENGTH                          
         SPACE 1                                                                
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        COLUMN FILTER AREA                                           *         
*                                                                     *         
***********************************************************************         
FLTAREA  DSECT                                                                  
*                                                                               
FLTFNO   DS    XL1                 NUMBER OF FILTERS                            
*                                                                               
FLTCTL   DS    XL1                 CONTROL                                      
FLTNOTQ  EQU   X'80'                 LOGICAL NOT                                
FLTGTQ   EQU   X'40'                 GREATER THAN                               
FLTLTQ   EQU   X'20'                 LESS THAN                                  
FLTEQQ   EQU   X'10'                 EQUAL                                      
FLTVALQ  EQU   X'08'                 FLTFVAL IS VALUE, NOT IC                   
FLTTPMQ  EQU   X'04'                 ENTERED WITH TRAILING +/-                  
*                                                                               
FLTFTIC  DS    XL2                 FILTER TYPE                                  
FLTFVLEN DS    XL1                 LENGTH OF FILTER VALUE                       
FLTFVAL  DS    0X                  FILTER VALUE                                 
*                                                                               
FLTAREAL EQU   32                  LENGTH OF FILTER AREA                        
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        FILTER TABLE DSECT                                           *         
*                                                                     *         
***********************************************************************         
FLTTABD  DSECT                                                                  
*                                                                               
FTBENTRY DS    0X                  FILTER TABLE ENTRY                           
*                                                                               
FTBFLTRS DS    XL(FLTAREAL-8)      AREA FOR FILTERS                             
*                                                                               
FTBSTACK DS    0X                  STACK WORKAREA                               
FTB1ST   DS    XL1                 START COLUMN                                 
FTBLAST  DS    XL1                 LAST  COLUMN                                 
FTBLINNM DS    XL2                 STACK LINE NUMBER                            
FTBINDS  DS    XL1                 STACK INDICATORS                             
FTBMAJQ  EQU   X'80'               MAJOR STACK FIELD-COMBINE LIKE VALUE         
         DS    XL3                 SPARE                                        
FTBSTKL  EQU   *-FTBSTACK          LENGTH OF STACK AREA                         
*                                                                               
FTBENTL  EQU   *-FTBENTRY          LENGTH OF FILTER TABLE ENTRY                 
FTBENTNM EQU   200                 NUMBER OF ENTRIES IN TABLE                   
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        STACK VALUES BUFFER                                          *         
*                                                                     *         
***********************************************************************         
STKVLBFD DSECT                                                                  
*                                                                               
SVBFBXLE DS    0A                  BXLE REGISTERS FOR BUFFER                    
SVBFSTA  DS    A                   A(BUFFER START)                              
SVBFLEN  DS    A                   F(ENTRY LENGTH)                              
SVBFENDA DS    A                   A(BUFFER END)                                
*                                                                               
SVBFSTRT DS    0X                  START OF BUFFER                              
*                                                                               
         EJECT                                                                  
***********************************************************************         
*                                                                     *         
*        STACK VALUES TABLE ENTRY                                     *         
*                                                                     *         
***********************************************************************         
SVTTABD  DSECT                                                                  
*                                                                               
SVTENTRY DS    0X                  STACK VALUES TABLE ENTRY                     
*                                                                               
SVTPUB   DS    XL6                 PUB NUMBER                                   
SVTKYWD# DS    XL1                 COLUMN'S KEYWORD NUMBER                      
SVTLINNM DS    XL2                 LINE NUMBER FOR THIS VALUE                   
SVTLEN   DS    XL1                 LENGTH OF KEYWORD VALUE                      
SVTVALUE DS    0X                  KEYWORD VALUE                                
*                                                                               
         SPACE 1                                                                
