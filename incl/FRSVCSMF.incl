DDSSMF   CSECT                                                          00000100
DDSSMF   RMODE 24                                                       00000200
***                                                                     00000300
***    SUPPORT FOR ASCH ENVIRONMENTS ADDED   3/14/00                    00000400
***                                                                     00000500
         ENTRY FWRSMF2                                                  00000600
         ENTRY FWRSMF3                                                  00000700
         ENTRY FWRSMF4                                                  00000800
         ENTRY FWRSMF5                                                  00000900
         ENTRY FWRSMF6                                                  00001000
         ENTRY FWRSMF9                                                  00001100
         ENTRY FWRSMFA                                                  00001200
         USING *,RF                                                     00001300
         STM   RE,R12,12(R13)  SAVE REGS IN CALLER SAVE AREA            00001400
         LH    R8,TYPE1        ENTRY 1                                  00001500
         B     SMF1                                                     00001600
         DC    C'&SYSDATE &SYSTIME'                                     00001700
FWRSMF2  DS    0H               ENTRY POINT 2                           00001800
         USING *,RF                                                     00001900
         STM   RE,R12,12(R13)  SAVE REGS IN CALLER SAVE AREA            00002000
         LA    R8,TYPE2        INDICATE ENTRY 2                         00002100
         B     SMF1                                                     00002200
*                                                                       00002300
FWRSMF3  DS    0H               ENTRY POINT 3  - QDQ CONTENTION         00002400
         USING *,RF                                                     00002500
         STM   RE,R12,12(R13)  SAVE REGS IN CALLER SAVE AREA            00002600
         LA    R8,TYPE3        INDICATE ENTRY 3                         00002700
         B     SMF1                                                     00002800
*                                                                       00002900
FWRSMF4  DS    0H               ENTRY POINT 4  - START SOON JOB         00003000
         USING *,RF                                                     00003100
         STM   RE,RC,12(RD)    SAVE REGS IN CALLER SAVE AREA            00003200
         LA    R8,TYPE4        INDICATE ENTRY 4                         00003300
         B     SMF1                                                     00003400
*                                                                       00003500
FWRSMF5  DS    0H               ENTRY POINT 5  - END SOON JOB           00003600
         USING *,RF                                                     00003700
         STM   RE,RC,12(RD)     SAVE REGS IN CALLER SAVE AREA           00003800
         LA    R8,TYPE5         INDICATE ENTRY 5                        00003900
         B     SMF1                                                     00004000
*                                                                       00004100
FWRSMF9  DS    0H               ENTRY POINT 9  - DARE RECORD            00004200
         USING *,RF                                                     00004300
         STM   RE,R12,12(R13)   SAVE REGS IN CALLER SAVE AREA           00004400
         LA    R8,TYPE6         INDICATE TYPE 6 RECORD  REQUEST         00004500
         B     SMF1                                                     00004600
*                                                                       00004700
FWRSMF6  DS    0H               ENTRY POINT 6  - BALANCING RECORD       00004800
FWRSMFA  DS    0H               ENTRY POINT A  - BALANCING RECORD       00004900
         USING *,RF                                                     00005000
         STM   RE,RC,12(RD)     SAVE REGS IN CALLER SAVE AREA           00005100
         LA    R8,TYPE7         SETUP TO BUILD RECORD TYPE 7            00005200
         B     SMF1                                                     00005300
         EJECT                                                          00005400
SMF1     BASR  RC,0                                                     00005500
         USING *,RC                                                     00005600
         LR    R7,R1           SAVE PARM REG IN 7                       00005700
         L     R0,SIZE                                                  00005800
*NOP     GETMAIN R,LV=(0)                                               00005900
         STORAGE OBTAIN,LENGTH=(0)                                      00006000
         LR    RA,R1                                                    00006100
         USING DATA,RA                                                  00006200
         ST    R13,SAVE+4       SAVE CALLERS SAVE AREA IN MINE          00006300
         LA    R3,SAVE                                                  00006400
         ST    R3,8(R13)        STORE MY SAVE AREA IN HIS               00006500
         LR    R13,R3           SET R13 TO MY SAVE AREA                 00006600
*                                                                       00006700
         LA     R4,RECORD                                               00006800
         USING  SMFREC,R4                                               00006900
         XC     SMFREC,SMFREC                                           00007000
         L      R5,16             GET CVT  FROM 10 HEX                  00007100
         USING  CVTMAP,R5                                               00007200
         L      R5,CVTSMCA        GET SMCA                              00007300
         DROP   R5                                                      00007400
         MVC    SMFSID,SMCASID-SMCABASE(R05)  SMF SYSTEM ID             00007500
         MVI    SMFSYS,X'12'      INDICATE VS2 SYSTEM                   00007600
         MVI    SMFTYPE,X'F7'     RECORD TYPE                           00007700
         LA     R5,SMFSIZE                                              00007800
         STH    R5,SMFRLEN        PUT IN RECORD SIZE                    00007900
         SPACE                                                          00008000
         L      R5,PSATOLD-PSA    GET CURRENT TCB                       00008100
         USING  TCB,R5                                                  00008200
         L      R6,TCBTIO         GET ADDRESS OF TIOT                   00008300
         L      R3,TCBJSCB        GET JSCB ADDRESS                      00008400
         DROP   R5                                                      00008500
         USING  TIOT1,R6                                                00008600
         MVC    SMFJOBNM,TIOCNJOB GET THE JOBNAME FROM TIOT             00008700
         MVC    SMFJOBST,TIOCSTEP GET THE STEP.PROC STEP NAME           00008800
         DROP   R6                                                      00008900
         SPACE                                                          00009000
         LA     RF,JOBID                                                00009100
         O      RF,HIGHBIT            TURN ON 31 BIT INDICATOR          00009200
         BSM    0,RF                                                    00009300
JOBID    LA     R6,SMFJOBID                                             00009400
         IAZXJSAB READ,WORKID=(R6)    ACCOMODATE ASCH ENVIRONMENTS      00009500
         LA     RF,SMFCONT                                              00009600
         N      RF,OFFHIBIT           TURN OFF 31 BIT INDICATOR         00009700
         BSM    0,RF                                                    00009800
SMFCONT  DS     0H                                                      00009900
         MVC    JOBIDMSG+4+8(8),SMFJOBID                                00010000
*NOP     WTO    MF=(E,JOBIDMSG)                                         00010100
         LA     R5,SMFJOBNM-SMFREC    GET HEADER OFFSET VALUE           00010200
         STH    R5,SMFDDSHO                                             00010300
         LA     R5,SMFDDSEH-SMFJOBNM  GET HEADER LENGTH                 00010400
         STH    R5,SMFDDSHL                                             00010500
         SPACE                                                          00010600
         B      THRDETRY                                                00010700
         USING  TABLEMAP,R9                                             00010800
USETBLE  LA     R5,WHERETG                                              00010900
         SR     R9,R9                                                   00011000
         SLL    R8,3                 MULTIPLY BY 8 (2**3)               00011100
         LA     R9,0(R8,R5)          CALCULATE ADDR IN WHERE TO GO TBL  00011200
         L      R5,RTNADDR           LOAD TARGET ADDRESS                00011300
         BALR   RE,R5                BRANCH TO IT                       00011400
         DC     H'0'                 WE DON'T EXPECT A RETURN           00011500
HIGHBIT  DC     X'80000000'                                             00011600
OFFHIBIT DC     X'7FFFFFFF'                                             00011700
         EJECT                                                          00011800
***                                                                     00011900
**   PROCESS REQUEST ACCOUNTING DATA                                    00012000
***                                                                     00012100
MAKEREC1 CLI    ENTRYTYP,TYP1E       PROPER ENTRY IN TABLE?             00012200
         BNE    0(0,RE)              NOPE, EXIT                         00012300
         MVC    SMFSUBTY+1(1),DDSRTYPE  INDICATE DDS TYPE 1 RECORD      00012400
         LA     R5,SMFSYSTE-SMFREC    GET OFFSET TO TYPE 1 RECORD       00012500
         STH    R5,SMFDDS1O           STORE OFFSET                      00012600
         LA     R5,DDS1LEN            GET LENGTH OF TYPE 1 RECORD       00012700
         STH    R5,SMFDDS1L           STORE LENGTH                      00012800
         USING  MASTD,R7              MAKE ORIGINAL DDS STATS RECORD    00012900
         MVC    SMFSYSTE,MCSYSTEM                                       00013000
         MVC    SMFPROG,MCPROG                                          00013100
         MVC    SMFUSER,MCUSER                                          00013200
         MVC    SMFMEDIA,MCMEDIA                                        00013300
*                                                                       00013400
         MVC    SMFREQNO,MCREQNO                                        00013500
         MVC    SMFSEGNO,MCSEGNO                                        00013600
*                                                                       00013700
         MVC    SMFREQCP,MCREQTCB    FOR NEW MASTC                      00013800
*        MVC    SMFREQCP,MCREQCPU    FOR OLD MASTC/D                    00013810
         MVC    SMFREQLP,MCREQLPS                                       00013900
         MVC    SMFREQSI,MCREQSIO                                       00014000
         MVC    SMFREQPA,MCREQPAG                                       00014100
         MVC    SMFREQLI,MCREQLIN                                       00014200
*                                                                       00014300
         MVC    SMFREMOT,MCREMOTE                                       00014400
         MVC    SMFREMPQ,MCREMPQK    PRINT Q STUFF                      00014500
         MVC    SMFPWCDE,MCIDPOWC    POWER CODE                         00014510
         L      R6,MCUTL            GET UTL ENTRY                       00014600
         LTR    R6,R6                                                   00014700
         BZ     RECFINAL                                                00014800
         MVC    SMFFILE(1),0(R6)                                        00014900
         B      RECFINAL                                                00015000
         DROP   R7                                                      00015100
         EJECT                                                          00015200
***                                                                     00015300
**     PROCESS REQUEST CARD IMAGES                                      00015400
***                                                                     00015500
MAKEREC2 CLI    ENTRYTYP,TYPE2       PROPER ENTRY IN TABLE?             00015600
         BNE    0(0,RE)              NOPE, EXIT                         00015700
         MVC    SMFRECIM,0(R7)       MOVE THE DATA PASSED W/O EDIT      00015800
         MVC    SMFSUBTY+1(1),DDSRTYPE  INDICATE DDS TYPE 2 RECORD      00015900
         LA     R5,SMFRECIM-SMFREC   GET OFFSET TO TYPE 2 DATA          00016000
         STH    R5,SMFDDS1O          STORE OFFSET                       00016100
         MVI    SMFDDS1L+1,X'50'     INDICATE LENGTH OF OPTIONAL DATA   00016200
         B      RECFINAL                                                00016300
         EJECT                                                          00016400
***                                                                     00016500
**     PROCESS QDQ CONTENTION RECORDS                                   00016600
***                                                                     00016700
MAKEREC3 CLI    ENTRYTYP,TYPE3       PROPER ENTRY IN TABLE?             00016800
         BNE    0(0,RE)              NOPE, EXIT                         00016900
THRDETRY EQU    *                    3RD ENTRY -QDQ CONTENTION          00017000
         LA     R5,TYPE3                                                00017100
         CR     R08,R5               DETERMINE ENTRY TYPE               00017200
         BNE    USETBLE                                                 00017300
*NOPP    BNE    FITHETRY                                                00017400
         SR     R05,R05              CLEAR REG 5                        00017500
         ICM    R05,X'C',0(R07)      REG7 PTS TO 2 BYTES OF LENGTH      00017600
         SRL    R05,16               MOVE OVER TWO BYTES                00017700
         EX     R05,TYP3MOV                                             00017800
         MVI    SMFSUBTY+1,X'03'     INDICATE DDS TYPE 3 RECORD         00017900
         STH    R05,SMFDDS1L         STORE LENGTH VALUE                 00018000
         LA     R05,SMFEQDQD-SMFREC  GET OFFSET TO TYPE 3 DATA          00018100
         STH    R05,SMFDDS1O         STORE OFFSET                       00018200
         B      RECFINAL                                                00018300
         EJECT                                                          00018400
***                                                                     00018500
**     START A SOON REQUEST                                             00018600
***                                                                     00018700
MAKEREC4 CLI    ENTRYTYP,TYPE4       PROPER ENTRY IN TABLE?             00018800
         BNE    0(0,RE)              NOPE, EXIT                         00018900
         MVC    SMFSUBTY+1(1),DDSRTYPE  INDICATE DDS TYPE 4 RECORD      00019000
         SR     R5,R5                CLEAR REG 5                        00019100
         SR     R1,R1                CLEAR REG 1                        00019200
         ICM    R5,X'C',0(R7)        REG7 PTS TO 2 BYTES OF LENGTH      00019300
         SRL    R5,16                MOVE OVER TWO BYTES                00019400
         CH     R5,MAXREC            DO WE HAVE ENOUGH ROOM?            00019500
         BH     REC2BIG              NO, BAD NEWS                       00019600
         LA     R1,SMFFIXLN(,R5)     COMPUTE COMPLETE LENGTH            00019700
         STH    R1,SMFRLEN           SET RECORD SIZE TO BE WRITTEN      00019800
         EX     R5,TYP4MOV                                              00019900
         STH    R5,SMFDDS1L          STORE LENGTH VALUE                 00020000
         LA     R5,SMFEQDQD-SMFREC   GET OFFSET TO TYPE 4 DATA          00020100
         STH    R5,SMFDDS1O          STORE OFFSET                       00020200
*NOP     DC     H'0'                                                    00020300
         B      RECFINAL                                                00020400
TYP4MOV  MVC   SMFSRTSN,2(R07)      MOVE THE DATA PASSED, SKIP OVER LEN 00020500
TYP5MOV  MVC   SMFENDSN,2(R07)      MOVE THE DATA PASSED W/O EDIT       00020600
**                                  DON'T INCLUDE LENGTH AS OF 2/19/98  00020700
         EJECT                                                          00020800
***                                                                     00020900
***                                                                     00021000
***                                                                     00021100
MAKEREC5 CLI    ENTRYTYP,TYPE5       PROPER ENTRY IN TABLE?             00021200
         BNE    0(0,RE)              NOPE, EXIT                         00021300
         SR     R5,R5                CLEAR REG 5                        00021400
         MVC    SMFSUBTY+1(1),DDSRTYPE  INDICATE DDS TYPE 5 RECORD      00021500
         ICM    R5,X'C',0(R7)        REG7 PTS TO 2 BYTES OF LENGTH      00021600
         SRL    R5,16                MOVE OVER TWO BYTES                00021700
         CH     R5,MAXREC            DO WE HAVE ENOUGH ROOM?            00021800
         BH     REC2BIG              NO, BAD NEWS                       00021900
         LA     R1,SMFFIXLN(,R5)     COMPUTE COMPLETE LENGTH            00022000
         STH    R1,SMFRLEN           SET RECORD SIZE TO BE WRITTEN      00022100
         EX     R5,TYP5MOV                                              00022200
         STH    R5,SMFDDS1L          STORE LENGTH VALUE                 00022300
         LA     R5,SMFEQDQD-SMFREC   GET OFFSET TO TYPE 5 DATA          00022400
         STH    R5,SMFDDS1O          STORE OFFSET                       00022500
         B      RECFINAL                                                00022600
*NOP     DC     H'0'                                                    00022700
         EJECT                                                          00022800
***                                                                     00022900
***    DARE RECORD                                                      00023000
***                                                                     00023100
MAKEREC6 CLI    ENTRYTYP,TYPE6       PROPER ENTRY IN TABLE?             00023200
         BNE    0(0,RE)              NOPE, EXIT                         00023300
         SR     R5,R5                CLEAR REG 5                        00023400
         SR     R1,R1                CLEAR REG 1                        00023500
         ICM    R5,X'C',0(R7)        REG7 PTS TO 2 BYTES OF LENGTH      00023600
         SRL    R5,16                MOVE OVER IN REGISTER              00023700
         CH     R5,MAXREC2           DO WE HAVE ENOUGH ROOM?            00023800
         BH     REC2BIG              NO, BAD NEWS                       00023900
         LA     R1,SMFFIXLN(,R5)     COMPUTE COMPLETE LENGTH            00024000
         STH    R1,SMFRLEN           SET RECORD SIZE TO BE WRITTEN      00024100
         EX     R5,TYP6MOV                                              00024200
         MVC    SMFSUBTY+1(1),DDSRTYPE  INDICATE DDS TYPE 6 RECORD      00024300
         STH    R5,SMFDDS1L          STORE LENGTH VALUE                 00024400
         LA     R5,SMFEQDQD-SMFREC   GET OFFSET TO TYPE 6 DATA          00024500
         STH    R5,SMFDDS1O          STORE OFFSET                       00024600
         B      RECFINAL                                                00024700
TYP6MOV  MVC   SMFENDSN,2(R7)        SKIP LENGTH AS OF 1/8/97           00024800
         EJECT                                                          00024900
MAKEREC7 CLI    ENTRYTYP,TYPE7       PROPER ENTRY IN TABLE?             00025000
         BNE    0(0,RE)              NOPE, EXIT                         00025100
         SR     R5,R5                CLEAR REG 5                        00025200
         SR     R1,R1                CLEAR REG 1                        00025300
         ICM    R5,X'C',0(R7)        REG7 PTS TO 2 BYTES OF LENGTH      00025400
         SRL    R5,16                MOVE OVER TWO BYTES                00025500
         SH     R5,=H'2'             DEDUCT 2 FOR LENGTH FIELD          00025600
         CH     R5,MAXREC            DO WE HAVE ENOUGH ROOM?            00025700
         BNH    TYP702               YES, CONTINUE                      00025800
         DC     H'0'                                                    00025900
         LH     R5,MAXREC            NO, SET TO MAX RECORD SIZE         00026000
TYP702   LA     R1,SMFFIXLN(,R5)     COMPUTE COMPLETE LENGTH            00026100
         STH    R1,SMFRLEN           SET RECORD SIZE TO BE WRITTEN      00026200
         EX     R5,TYP7MOV                                              00026300
         MVC    SMFSUBTY+1(1),DDSRTYPE  INDICATE DDS TYPE 7 RECORD      00026400
         STH    R5,SMFDDS1L          STORE LENGTH VALUE                 00026500
         LA     R5,SMFFIBAL-SMFREC   GET OFFSET TO TYPE A DATA          00026600
         STH    R5,SMFDDS1O          STORE OFFSET                       00026700
         B      RECFINAL                                                00026800
TYP7MOV  MVC   SMFENDSN,2(R7)       FILE BALANCING RECORD, SKIP LENGTH  00026900
         EJECT                                                          00027000
**                                                                      00027100
**    THE FOLLOWING IS THE WHERE TO GO TABLE BASED ON ENTRY POINT USED  00027200
**                                                                      00027300
         DC     C'WHERE TO GO TABLE'                                    00027400
         DS     0F                                                      00027500
WHERETG  DC     AL1(DUMMY),X'00',CL2'00',A(BADTYPE)    DUMMY ENTRY      00027600
         DC     AL1(TYP1E),X'01',CL2'11',A(MAKEREC1)   REQUEST ACCOUNT  00027700
         DC     AL1(TYPE2),X'02',CL2'22',A(MAKEREC2)   REQUEST CARD     00027800
         DC     AL1(TYPE3),X'03',CL2'33',A(THRDETRY)   QDQ              00027900
         DC     AL1(TYPE4),X'04',CL2'44',A(MAKEREC4)   SOON START       00028000
         DC     AL1(TYPE5),X'05',CL2'55',A(MAKEREC5)   SOON END         00028100
         DC     AL1(TYPE6),X'06',CL2'06',A(MAKEREC6)   DARE ACTNG       00028200
         DC     AL1(TYPE7),X'07',CL2'07',A(MAKEREC7)   BALANCING        00028300
         DS     0H                                                      00028400
REC2BIG  DC     H'0'                                                    00028500
         LH     R2,ABEND4F7         RECORD IS TOO BIG FOR BUFFER        00028600
         B      ABEND                                                   00028700
BADTYPE  LH     R2,ABEND3F7                                             00028800
         DC     H'0'                                                    00028900
ABEND    ABEND  (R2),DUMP,STEP,SYSTEM                                   00029000
**                                                                      00029100
**    WE GET THE TIME HERE TO BE AS CLOSE AS POSSIBLE TO THE TIME THE   00029200
**    RECORD IS GIVEN TO SMF                                            00029300
**                                                                      00029400
RECFINAL TIME   BIN             R0=TIME R1=DATE                         00029500
         STCM   R0,15,SMFTIME                                           00029600
         STCM   R1,15,SMFDATE                                           00029700
         SMFEWTM (R4),BRANCH=NO,SUBSYS=#DDS                             00029800
         LTR    R6,R15                                                  00029900
         BZ     EXIT                                                    00030000
         DC     H'0'                                                    00030100
ABEND3F7 DC     XL2'03F7'                                               00030200
ABEND4F7 DC     XL2'04F7'                                               00030300
*                                                                       00030400
EXIT     EQU   *                                                        00030500
         L     R5,4(,R13)       GET PTR TO CALLERS SAVE AREA BEFORE     00030600
*                               FREEMAIN OF MY SAVE AREA                00030700
         L     R3,SIZE                                                  00030800
      FREEMAIN R,LV=(3),A=(10),SP=0                                     00030900
         L     RE,12(,R5)      PICK UP RETURN ADDRESS                   00031000
         LM    R0,R12,20(R5)   RESTORE REGS                             00031100
         BR    RE              RETURN TO CALLER                         00031200
         DS    0H                                                       00031300
MAXREC   DC    AL2(SMFDDSM)                                             00031400
MAXREC2  DC    AL2(255)                                                 00031500
TYP3MOV  MVC   SMFEQDQD,0(R07)      MOVE THE DATA PASSED W/O EDIT       00031600
JOBIDMSG WTO   'JOBID=> 12345678  ',MF=L                                00031700
         EJECT                                                          00031800
TABLEMAP DSECT                                                          00031900
ENTRYTYP DS     AL1       1ST BYTE, ENTRY TYPE IN TABLE                 00032000
DDSRTYPE DS     XL1       DDS SUBTYPE BEING CREATED                     00032100
FLAG1    DS     XL1                                                     00032200
FLAG2    DS     XL1                                                     00032300
RTNADDR  DS     AL4       ADDRESS OF ROUTINE TO PROCESS THE RECORD      00032400
SMFREC   DSECT                                                          00032500
SMFRLEN  DS    H                                                        00032600
SMFRDES  DS    H                                                        00032700
SMFSYS   DS    X                                                        00032800
SMFTYPE  DS    X                                                        00032900
SMFTIME  DS    XL4                                                      00033000
SMFDATE  DS    PL4                                                      00033100
SMFSID   DS    CL4                                                      00033200
**                                                                      00033300
SMFSUBSY DS    CL4       SUBSYSTEM IDENTIFICATION                       00033400
SMFSUBTY DS    XL2       RECORD SUBTYPE (DDS DEFINED)                   00033500
SMFDDSHO DS    XL2       OFFSET TO DDS HEADER (FROM SMFREC)             00033600
SMFDDSHL DS    XL2       LENGTH OF DDS HEADER                           00033700
SMFDDS1O DS    XL2       OFFSET TO 1ST DDS SECTION                      00033800
SMFDDS1L DS    XL2       LENGTH OF 1ST DDS SECTION                      00033900
**  DDS HEADER SECTION FOLLOWS                                          00034000
SMFJOBNM DS    CL8       JOB           NAME                             00034100
SMFJOBST DS    CL16      STEP/PROCSTEP NAME                             00034200
SMFJOBID DS    CL8       JES JOB ID    NAME                             00034300
SMFDDSEH EQU   *         END OF DDS HEADER                              00034400
SMFFIXLN EQU   SMFDDSEH-SMFREC                                          00034500
**                       BEGIN DDS DATA SECTION                         00034600
SMFSYSTE DS    CL2                                                      00034700
SMFPROG  DS    CL2                                                      00034800
SMFUSER  DS    CL2                                                      00034900
SMFMEDIA DS    CL1                                                      00035000
SMFREQNO DS    PL3                                                      00035100
SMFSEGNO DS    PL3                                                      00035200
SMFREQCP DS    XL4      REQUEST CPU TIME                                00035300
SMFREQLP DS    XL4              LPS                                     00035400
SMFREQSI DS    XL4              SIO'S                                   00035500
SMFREQPA DS    XL4              PAGES                                   00035600
SMFREQLI DS    XL4              LINES PRINTED                           00035700
SMFREMOT DS    CL80                                                     00035800
SMFREMPQ DS    XL7             ???                                      00035900
SMFFILE  DS    X                                                        00036000
SMFPWCDE DS    XL4             POWER CODE FIELD                         00036010
SMFEND   DS    0X                                                       00036100
         ORG   SMFSYSTE                                                 00036200
SMFRECIM DS    CL80            REQUEST CARD IMAGE                       00036300
         ORG   SMFSYSTE                                                 00036400
SMFEQDQD DS    CL32            ENQ/DEQ DATA                             00036500
         ORG   SMFSYSTE                                                 00036600
SMFENDSN DS    CL4             END OF SOON JOB DATA                     00036700
         ORG   SMFSYSTE                                                 00036800
SMFSRTSN DS    CL4             START OF SOON JOB DATA                   00036900
*      ABOVE FIELD AREA IS ACTUALLY MUCH LONGER                         00037000
         ORG   SMFSYSTE                                                 00037100
SMFFIBAL DS    CL4             START OF FILE BALANCING DATA             00037200
*      ABOVE FIELD AREA IS ACTUALLY MUCH LONGER                         00037300
DDS1LEN  EQU   SMFEND-SMFSYSTE LENGTH OF SUBTYPE 1 RECORD               00037400
SMFSIZE  EQU   SMFEND-SMFREC   LENGTH OF LARGEST  RECORD                00037500
SMFDDSM  EQU   SMFSIZE-SMFFIXLN    LARGEST AREA TO HOLD MOVED IN DATA   00037600
         EJECT                                                          00037700
         SPACE 3                                                        00038000
MASTD    DSECT         SWITCH TO PAN MAPPING  8/28/00                   00038100
       ++INCLUDE DDMASTC                                                00038110
         SPACE 2                                                        00038200
*          DATA SET DDREPMASTD AT LEVEL 031 AS OF 06/20/85              00038201
*              DSECT TO COVER STORAGE FOR MASTER CONTROL                00038202
MASTDOLD DSECT                                                          00038210
MCINPUT  DS    CL1                 REQUEST CONTROL                      00038300
MCSTART  DS    PL3                                                      00038400
MCEND    DS    PL3                                                      00038500
MCREQCOD DS    CL2                                                      00038600
MCREQCON DS    CL1                                                      00038700
MCNREQS  DS    PL3                                                      00038800
MCREQREC DS    CL80                                                     00038900
MCUPSI   DS    CL1                                                      00039000
MCTSTRUN DS    XL1                                                      00039100
MCREQFIL DS    CL1                 Y=ALTERNATE SYSIN FILE               00039200
MCRUNMOD DS    CL1                 S=SINGLE REQ MODE FOR RRG            00039300
MCRESTRT DS    CL1                 Y=START CARD PRESENT                 00039400
         DS    CL11                                                     00039500
         SPACE 2                                                        00039600
MCOUTPUT DS    CL1                 OUTPUT CONTROL                       00039700
         DS    CL39                                                     00039800
         SPACE 2                                                        00039900
MCTRACE  DS    CL1                 RUN CONTROL                          00040000
MCDUMP   DS    CL1                                                      00040100
MCWRITE  DS    CL1                                                      00040200
MCDATE   DS    CL8                                                      00040300
MCNUMBER DS    CL4                                                      00040400
MCRERUN  DS    CL1                                                      00040500
MCRECOVR DS    CL1                                                      00040600
MCTIMOPT DS    CL1                                                      00040700
MCTIMCON DS    PL3                                                      00040800
MCPAGCON DS    PL3                                                      00040900
MCCHECKP DS    CL1                                                      00041000
MCLOADSM DS    CL1                                                      00041100
MCBLOW   DS    CL1                                                      00041200
MCRERUND DS    CL2                                                      00041300
MCPOSTNG DS    CL1                                                      00041400
MCMAXLIN DS    CL1                                                      00041500
MCOFFSET DS    CL1                                                      00041600
         DS    CL8                                                      00041700
         SPACE 1                                                        00041800
MCNETPAK DS    CL1                 SPOT SPECIAL                         00041900
         SPACE 2                                                        00042000
MCTEST1  DS    CL1                 PHASE CONTROL                        00042100
MCTEST2  DS    CL1                                                      00042200
MCTEST3  DS    CL1                                                      00042300
MCTEST4  DS    CL1                                                      00042400
MCLOAD   DS    CL4                                                      00042500
MCAPHAS1 DS    A                                                        00042600
MCAPHAS2 DS    A                                                        00042700
MCAPHAS3 DS    A                                                        00042800
MCAPHAS4 DS    A                                                        00042900
         SPACE 2                                                        00043000
MCORIGID DS    H                   WRAP CONTROL                         00043100
MCDESTID DS    H                                                        00043200
MCORIGIN DS    CL33                                                     00043300
MCORIGAD DS    CL33                                                     00043400
         SPACE 2                                                        00043500
MCACPHSE DS    CL1                 ACCPAK SPECIAL                       00043600
MCACIFIL DS    CL1                                                      00043700
MCACOFIL DS    CL1                                                      00043800
MCACWFIL DS    CL1                                                      00043900
MCACFCHE DS    CL4                                                      00044000
MCACLDGE DS    CL1                                                      00044100
         SPACE 2                                                        00044200
MCMEDREP DS    CL1                 MEDLINE SPECIAL                      00044300
         SPACE 2                                                        00044400
MCSYSTEM DS    CL2                 SYSTEM CONTROL                       00044500
MCPROG   DS    CL2                                                      00044600
MCUSER   DS    CL2                                                      00044700
MCMEDIA  DS    CL1                                                      00044800
         SPACE 2                                                        00044900
         DS    0D                                                       00045000
MCUSREGS DS    CL72                INTERRUPTION CONTROL                 00045100
MCRUNLST DS    CL64                                                     00045200
MCREQLST DS    CL64                                                     00045300
MCLSTPSW DS    A                                                        00045400
MCAWORK  DS    F                                                        00045500
MCREASON DS    CL1                                                      00045600
MCNDUMPS DS    PL3                                                      00045700
MCOPTION DS    CL5                                                      00045800
MCSTOP   DS    CL1                                                      00045900
MCREQNO  DS    PL3                                                      00046000
MCSEGNO  DS    PL3                                                      00046100
         SPACE 2                                                        00046200
MCREQCPU DS    F                   REQUEST LEVEL JOB ACCOUNTING         00046300
MCREQLPS DS    F                                                        00046400
MCREQSIO DS    F                                                        00046500
MCREQPAG DS    F                                                        00046600
MCREQLIN DS    F                                                        00046700
         DS    CL12                                                     00046800
         SPACE 3                                                        00046900
MCRUNCPU DS    F                   RUN LEVEL JOB ACCOUNTING             00047000
MCRUNLPS DS    F                                                        00047100
MCRUNSIO DS    F                                                        00047200
MCRUNPAG DS    F                                                        00047300
MCRUNLIN DS    F                                                        00047400
         DS    CL12                                                     00047500
         SPACE 2                                                        00047600
MCBXMRGE DS    A                   ADDRESS OF BOX MERGE ROUTINE         00047700
MCBXAREA DS    A                   ADDRESS OF BOX DEFINITION AREA       00047800
MCVREMOT DS    V                   ADDRESS OF REMOTEC                   00047900
MCVLOGOC DS    V                   ADDRESS OF LOGOC                     00048000
         DS    CL3                                                      00048100
MCPOPSW  DS    C                   C'P' IF TIMER POP ACTIVE             00048200
         SPACE 2                                                        00048300
MCRTP    DS    0XL16                                                    00048400
MCRTPTIM DS    F                   ELAPSED TIME TILL OPER MSG           00048500
MCRTPPGS DS    F                   PAGE COUNT TILL OPER MSG             00048600
MCRTPIOS DS    F                   EXCP COUNT TILL OPER MSG             00048700
MCRTPCPU DS    F                   CONTINUOUS CPU TIME TILL OPER MSG    00048800
*                                                                       00048900
MCNXT    DS    0XL12                                                    00049000
MCNXTTIM DS    F                   NEXT ELAPSED TIME FOR MESSAGE        00049100
MCNXTPGS DS    F                   NEXT PAGE COUNT FOR MESSAGE          00049200
MCNXTIOS DS    F                   NEXT IO COUNT FOR MESSAGE            00049300
*                                                                       00049400
MCACTIOS DS    F                   ACTUAL IO COUNT                      00049500
MCDMPEND DS    A                   END OF DUMP ADDRESS                  00049600
MCUTL    DS    A                   A(UTL)                               00049700
MCREMOTE DS    CL80                                                     00049800
MCREMPQK DS    XL7                 PQ REPORT KEY      (FOR JOB NOTIFY)  00049900
MCREMPQA DS    XL2                 PQ REPORT C/I ADDR (FOR JOB NOTIFY)  00050000
         EJECT                                                          00050100
DATA     DSECT                                                          00050200
         DS    0D                                                       00050300
SAVE     DS    20F                                                      00050400
BUFFER   DS    F                                                        00050500
RECORD   DS    XL(SMFSIZE)                                              00050600
ENDOFA   DS    0X                                                       00050700
DDSSMF   CSECT                                                          00050800
#DDS     DC    CL4'#DDS'                                                00050900
ANUM     DC    F'6000'                                                  00051000
SIZE     DC    F'800'  CHANGE TO DOUBLE WORD MULTIPLE                   00051100
DUMMY    EQU    0       DUMMY TYPE                                      00051200
TYPE1    DC    H'1'                                                     00051300
TYP1E    EQU    1       EQUATE VERSION OF TYPE1                         00051400
TYPE2    EQU    2                                                       00051500
TYPE3    EQU    3                                                       00051600
TYPE4    EQU    4                                                       00051700
TYPE5    EQU    5                                                       00051800
TYPE6    EQU    6                                                       00051900
TYPE7    EQU    7        FILE BALANCING RECORD                          00052000
TYPE9    EQU    9                                                       00052100
*YPEA    EQU    10                                                      00052200
R0       EQU    00                                                      00052300
R1       EQU    01                                                      00052400
R2       EQU    02                                                      00052500
R3       EQU    03                                                      00052600
R4       EQU    04                                                      00052700
R5       EQU    05                                                      00052800
R05      EQU    05                                                      00052900
R6       EQU    06                                                      00053000
R7       EQU    07                                                      00053100
R07      EQU    07                                                      00053200
R8       EQU    08                                                      00053300
R08      EQU    08                                                      00053400
R9       EQU    09                                                      00053500
RA       EQU    10                                                      00053600
RB       EQU    11                                                      00053700
RC       EQU    12                                                      00053800
R12      EQU    12                                                      00053900
RD       EQU    13                                                      00054000
R13      EQU    13                                                      00054100
RE       EQU    14                                                      00054200
R14      EQU    14                                                      00054300
RF       EQU    15                                                      00054400
R15      EQU    15                                                      00054500
         IEESMCA                                                        00054600
         IHAPSA                                                         00054700
*NOP     CVT    DSECT=YES,LIST=YES                                      00054800
         CVT    DSECT=YES                                               00054900
         IEZJSCB                IEZJSCB                                 00055000
         IHAASCB                                                        00055100
         IHAASSB                                                        00055200
         IHASTCB                                                        00055300
         IAZJSAB DSECT=YES                                              00055400
         IKJTCB                 TCB                                     00055500
         IEFTIOT1       TCBTIO  TIOT1 IN USING                          00055600
         END                                                            00055700
