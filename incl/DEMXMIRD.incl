*          DATA SET DEMXMIRD   AT LEVEL 004 AS OF 12/08/20                      
                                                                                
***********************************************************************         
* DSECTS FOR INPUT RECORDS TO THE MINUTE BY MINUTE CONVERSION.        *         
* INPUT RECORDS ARE GENERATED BY AN EXTRACT FROM THE AMRLD DB2        *         
* DATABASE.                                                           *         
***********************************************************************         
                                                                                
*---------------------------------------------------------------------*         
* DELETION RECORD 'D'                                                           
*---------------------------------------------------------------------*         
DELRECD  DSECT                                                                  
DELRTYP  DS    C                                                                
DELRTYPQ EQU   C'D'                RECORD TYPE 'D': DELETION                    
DELRWEEK DS    CL6                 MONDAY'S DATE IN YYMMDD FORMAT               
DELRMED  DS    C                   MEDIA. BLANKS=ALL                            
DELRMEDB EQU   C'B'                -BROADCAST                                   
DELRMEDC EQU   C'C'                -CABLE                                       
DELRMEDA EQU   C' '                -ALL: CABLE AND BROADCAST                    
DELRSTA  DS    CL5                 STATION: CALL LETTERS FOR BROADCAST,         
*                                   NUMERIC CODE FOR CABLE LEFT ALIGNED         
*                                   BLANKS=ALL                                  
*                                                                               
DELRECDL EQU   *-DELRECD           RECORD LENGTH                                
*---------------------------------------------------------------------*         
* MINUTE INFORMATION RECORD 'MI'                                                
*---------------------------------------------------------------------*         
MIRECD   DSECT                                                                  
MIRTYP   DS    C                                                                
MIRTYPQ  EQU   C'M'                RECORD TYPE 'M': MINUTE                      
MIRSTYP  DS    C                                                                
MIRSTYPQ EQU   C'I'                RECORD SUBTYPE 'I': INFORMATION              
MIRMED   DS    C                   MEDIA                                        
MIRMEDB  EQU   C'B'                -BROADCAST                                   
MIRMEDC  EQU   C'C'                -CABLE                                       
MIRSRC   DS    C                   SOURCE                                       
MIRSRCP  EQU   C'P'                -PROGRAM AVERAGE                             
MIRSRCA  EQU   C'A'                -ACM                                         
MIRVTYP  DS    C                   VIEWING TYPE                                 
MIRVLIVE EQU   C'L'                -LIVE                                        
MIRVLSD  EQU   C'S'                -LIVE+SD                                     
MIRVL1   EQU   C'1'                -LIVE+1                                      
MIRVL2   EQU   C'2'                -LIVE+2                                      
MIRVL3   EQU   C'3'                -LIVE+3                                      
MIRVL7   EQU   C'7'                -LIVE+7                                      
MIRVCR   DS    C                   VCR INDICATOR                                
MIRVCRY  EQU   C'V'                -INCLUDES VCR VIEWING.BLNK OTHERWISE         
MIRSTA   DS    CL5                 STATION: CALL LETTERS FOR BROADCAST,         
*                                   NUMERIC CODE FOR CABLE LEFT ALIGNED         
MIRWEEK  DS    CL6                 MONDAY'S DATE IN YYMMDD FORMAT               
MIRDAY   DS    C                   DAY OF THE WEEK:MON=1...SUN=7                
MIRMINUT DS    CL4                 MINUTE IN HHMM FORMAT 0600-2959              
*                                                                               
MIRPRGCD DS    CL7                 PROGRAM CODE ZERO FILLED RIGHT ALIGN         
MIRTCAST DS    CL7                 TELECAST NUMBER ZERO FLD RIGHT ALIGN         
MIRSPEC  DS    C                   SPECIAL INDICATOR                            
MIRSPECY EQU   C'S'                -IS SPECIAL. BLANK OTHERWISE                 
MIRBKOT  DS    C                   BREAKOUT INDICATOR                           
MIRBKOTY EQU   C'B'                -IS BREAKOUT. BLANK OTHERWISE                
MIRPREM  DS    C                   PREMIERE INDICATOR                           
MIRPREMY EQU   C'P'                -IS PREMIERE. BLANK OTHERWISE                
MIRPRNAM DS    CL25                PROGRAM NAME                                 
MIRSTIME DS    CL4                 START TIME IN HHMM FORMAT 0600-2959          
MIRETIME DS    CL4                 END TIME IN HHMM FORMAT 0600-2959            
MIRPRDUR DS    CL4                 PROGRAM DURATION IN MINUTES, ZERO            
*                                   FILLED RIGHT ALIGNED                        
MIRPTYP  DS    CL4                 PROGRAM TYPE                                 
MIRSPTYP DS    CL4                 NHI PROGRAM TYPE                             
MIREPNAM DS    CL40                EPISODE NAME                                 
MIRREPT  DS    C                   REPEAT INDICATOR                             
MIRREPTY EQU   C'R'                -IS REPEAT. BLANK OTHERWISE                  
MIRTKNUM DS    CL3                 TRACKAGE ID.RIGHT ALIGNED ZERO FILLD         
MIRTKNAM DS    CL30                TRACKAGE NAME                                
MIRDPT   DS    CL8                 DAYPART CODE                                 
MIRCOV   DS    CL2                 PROGRAM COVERAGE PERCENT.R-ALIGN 0FL         
MIRSCNT  DS    CL3                 STATION COUNT                                
MIRDTYP  DS    C                   DATA TYPE INDICATOR                          
MIRDTYPO EQU   C'O'                -ORIGINAL                                    
MIRDTYPR EQU   C'R'                -REPEAT                                      
MIRDTYPC EQU   C'C'                -COMBINED                                    
MIRDTYPM EQU   C'M'                -MULTIPLE                                    
MIRFEED  DS    C                   FEED PATTERN CODE                            
MIRGAPD  DS    C                   GAPPED INDICATOR                             
MIRGAPDY EQU   C'G'                -IS GAPPED. BLANK OTHERWISE                  
MIRLIVE  DS    C                   LIVE INDICATOR                               
MIRLIVEY EQU   C'L'                -IS LIVE. BLANK OTHERWISE                    
MIRMSEG  DS    C                   MULTI-SEGMENT INDICATOR                      
MIRMSEGY EQU   C'M'                -IS MULTI-SEGMENTED. BLANK OTHERWISE         
MIRMTNUM DS    CL2                 NUMBER OF TELECASTS CONTRIBUTING TO          
*                                  THIS MINUTE. RIGHT ALLIGNED 0-FILLED         
MIRAETYP DS    C                   AUDIENCE ESTIMATE TYPE.                      
MIRAEAA  EQU   C'1'                -AA ONLY, NO GAA ORDERED                     
MIRAEGAA EQU   C'2'                -GAA RDERED                                  
MIAENA   EQU   C' '                -NOT APPLICABLE                              
MIRREPR  DS    C                   REPROCESSED DATA FLAG                        
MIRREPRY EQU   C'R'                -DATA IS REPROCESSED. ELSE BLANK             
MIRRDATE DS    CL6                 DATE PROGRAM WAS REPROCESSED YYMMDD          
MIRRPTYP DS    C                   TYPE OF CHANGE FOR REPROCESSING              
MIRRPDES EQU   C'1'                -CHANGE TO DESCRIPTIVE DATA                  
MIRRPVW  EQU   C'2'                -CHANGE TO VIEWING DATA                      
MIRRPNA  EQU   C'3'                -CHANGE NOT IDENTIFIED                       
MIRATUM  DS    C                   AT/UMBRELLA TELECAST INDICATOR               
MIRATUMY EQU   C'A'                -IS AT/UMBRELLA. BLANK OTHERWISE.            
MIRMOP   DS    CL4                 MINUTE OF PROGRAM                            
MIRCOMM  DS    C                   COMMERCIAL FLAG                              
MIRCOMMC EQU   C'C'                -AT LEAST 1 SEC OF COMM,PROMO,OR PSA         
MIRCOMMN EQU   C'N'                -NO COMMERCIAL CONTENT                       
MIRCOMMU EQU   C'U'                -UNKNOWN (FOR MULTI-SEG AND AT/PROG)         
*THE FIELDS WILL BE FILLED IN ONLY IF FLAG ABOVE IS 'C'.                        
*OTHERWISE BLANKS.                                                              
MIRCMSEC DS    CL2                 COMMERCIAL SECONDS IN THIS MINUTE            
MIRPRSEC DS    CL2                 PROMO SECONDS IN THIS MINUTE                 
MIRPSSEC DS    CL2                 PSA SECONDS IN THIS MINUTE                   
MIRPODST DS    CL4                 POD START TIME HHMM                          
MIRPODMN DS    CL3                 POD DURATION IN MINUTES                      
MIRPODSC DS    CL5                 POD TOTAL COMMERCIAL SECONDS                 
MIRPODNO DS    CL3                 POD NUMBER WITHIN PROG/TELECAST              
MIRFLFLG DS    C                   FIRST/LAST MINUTE FLAG                       
MIRFLFST EQU   C'1'                -FIRST MINUTE OF A POD                       
MIRFLLST EQU   C'2'                -LAST MINUTE OF A POD                        
MIRFLBTH EQU   C'3'                -FIRST AND LAST MINUTE OF A POD              
MIRFLNON EQU   C'0'                -NONE OF THE ABOVE                           
MIRPODTS DS    CL5                 POD TOTAL SECONDS                            
* STARTING WITH DATA FOR SEP20/2010                                             
MIRORDST DS    CL1                 ORDERED SUSTAINER INDICATOR                  
MIRORSN  EQU   C'0'                - PROGRAM WITH COMMERCIALS                   
MIRORSY  EQU   C'1'                - ORDERED SUSTAINER                          
MIRECORL EQU   *-MIRECD            RECORD LENGTH INCLUDING ORDERD SUST          
*                                                                               
MIRECDL  EQU   *-MIRECD            RECORD LENGTH                                
*---------------------------------------------------------------------*         
* MINUTE DEMO VALUES RECORD 'MD'                                                
* ONE OR MORE 'MD' RECORDS WILL FOLLOW ONE 'MI' RECORDS                         
* SEND ONE 'MD' RECORD FOR EACH MODIFIER                                        
*---------------------------------------------------------------------*         
MDRECD   DSECT                                                                  
MDRTYP   DS    C                                                                
MDRTYPQ  EQU   C'M'                RECORD TYPE 'M': MINUTE                      
MDRSTYP  DS    C                                                                
MDRSTYPQ EQU   C'D'                RECORD SUBTYPE 'D': DEMO VALUES              
MDRMOD   DS    C                   MODIFIER                                     
MDRMODY  EQU   C'Y'                AA IMPRESSIONS                               
MDRMODB  EQU   C'B'                GAA IMPRESSIONS(BROADCAST AND SYND)          
MDRMODZ  EQU   C'Z'                PROGRAM PUTS   (BROADCAST AND CABLE)         
*DEMO VALUES                                                                    
MDRDEMS  DS    (NDEMS)CL9                                                       
*DEMO SEQUENCE                                                                  
MDRHOMES EQU   1                   HOMES                                        
MDRM2_5  EQU   2                   M 2-5                                        
MDRM6_8  EQU   3                   M 6-8                                        
MDRM9_11 EQU   4                   M 9-11                                       
MDRM1214 EQU   5                   M 12-14                                      
MDRM1517 EQU   6                   M 15-17                                      
MDRM1820 EQU   7                   M 18-20                                      
MDRM2124 EQU   8                   M 21-24                                      
MDRM2529 EQU   9                   M 25-29                                      
MDRM3034 EQU   10                  M 30-34                                      
MDRM3539 EQU   11                  M 35-39                                      
MDRM4044 EQU   12                  M 40-44                                      
MDRM4549 EQU   13                  M 45-49                                      
MDRM5054 EQU   14                  M 50-54                                      
MDRM5564 EQU   15                  M 55-64                                      
MDRM65_P EQU   16                  M 65+                                        
MDRF2_5  EQU   17                  F 2-5                                        
MDRF6_8  EQU   18                  F 6-8                                        
MDRF9_11 EQU   19                  F 9-11                                       
MDRF1214 EQU   20                  F 12-14                                      
MDRF1517 EQU   21                  F 15-17                                      
MDRF1820 EQU   22                  F 18-20                                      
MDRF2124 EQU   23                  F 21-24                                      
MDRF2529 EQU   24                  F 25-29                                      
MDRF3034 EQU   25                  F 30-34                                      
MDRF3539 EQU   26                  F 35-39                                      
MDRF4044 EQU   27                  F 40-44                                      
MDRF4549 EQU   28                  F 45-49                                      
MDRF5054 EQU   29                  F 50-54                                      
MDRF5564 EQU   30                  F 55-64                                      
MDRF65_P EQU   31                  F 65+                                        
MDRRHOMS EQU   32                  HOMES RATING (AA OR GAA)                     
*            _______                                                            
NDEMS    EQU   32                  TOTAL NUMBER OF DEMOS                        
*                                                                               
MDRECDL  EQU   *-MDRECD            RECORD LENGTH                                
*---------------------------------------------------------------------*         
* PASSIVE POINTER FOR PROGRAM TIMES 'PT'                                        
*---------------------------------------------------------------------*         
PTRECD   DSECT                                                                  
PTRTYP   DS    C                                                                
PTRTYPQ  EQU   C'P'                RECORD TYPE 'P': PASSIVE                     
PTRSTYP  DS    C                                                                
PTRSTYPQ EQU   C'T'                RECORD SUBTYPE 'T': PROGRAM TIMES            
PTRMED   DS    C                   MEDIA                                        
PTRMEDB  EQU   C'B'                -BROADCAST                                   
PTRMEDC  EQU   C'C'                -CABLE                                       
PTRSRC   DS    C                   SOURCE                                       
PTRSRCP  EQU   C'P'                -PROGRAM AVERAGE                             
PTRSRCA  EQU   C'A'                -ACM                                         
PTRWEEK  DS    CL6                 MONDAY'S DATE IN YYMMDD FORMAT               
PTRSTA   DS    CL5                 STATION: CALL LETTERS FOR BROADCAST,         
*                                   NUMERIC CODE FOR CABLE LEFT ALIGNED         
PTRBKOT  DS    C                   BREAKOUT INDICATOR                           
PTRBKOTY EQU   C'B'                -IS BREAKOUT. BLANK OTHERWISE                
PTRPRGCD DS    CL7                 PROGRAM CODE ZERO FILLED RIGHT ALIGN         
PTRDAY   DS    C                   DAY OF THE WEEK: MON=1...SUN=7               
PTRSTIME DS    CL4                 START TIME IN HHMM FORMAT 0600-2959          
PTRETIME DS    CL4                 END TIME IN HHMM FORMAT 0600-2959            
PTRMTYP  DS    C                   TYPE OF MINUTES                              
PTRMTYPC EQU   C'C'                -COMMERCIAL (>1SEC COMM,PROMOS,PSA)          
PTRMTYPN EQU   C'N'                -NON COMMECIAL                               
PTRMTYPU EQU   C'U'                -UNKNOWN                                     
*                                                                               
PTRECDL  EQU   *-PTRECD            RECORD LENGTH                                
*---------------------------------------------------------------------*         
* PASSIVE POINTER FOR COMMERCIAL PODS 'PD'                                      
*---------------------------------------------------------------------*         
PDRECD   DSECT                                                                  
PDRTYP   DS    C                                                                
PDRTYPQ  EQU   C'P'                RECORD TYPE 'P': PASSIVE                     
PDRSTYP  DS    C                                                                
PDRSTYPQ EQU   C'D'                RECORD SUBTYPE 'D': COMMERCIAL PODS          
PDRMED   DS    C                   MEDIA                                        
PDRMEDB  EQU   C'B'                -BROADCAST                                   
PDRMEDC  EQU   C'C'                -CABLE                                       
PDRSRC   DS    C                   SOURCE                                       
PDRSRCP  EQU   C'P'                -PROGRAM AVERAGE                             
PDRSRCA  EQU   C'A'                -ACM                                         
PDRWEEK  DS    CL6                 MONDAY'S DATE IN YYMMDD FORMAT               
PDRSTA   DS    CL5                 STATION: CALL LETTERS FOR BROADCAST,         
*                                   NUMERIC CODE FOR CABLE LEFT ALIGNED         
PDRDAY   DS    C                   POD DAY OF THE WEEK: MON=1...SUN=7           
PDRSTIME DS    CL4                 POD START TIME,HHMM FORMAT 0600-2959         
PDRETIME DS    CL4                 POD END TIME, HHMM FORMAT 0600-2959          
PDRPRGCD DS    CL7                 PROGRAM CODE ZERO FILLED RIGHT ALIGN         
*                                                                               
PDRECDL  EQU   *-PDRECD            RECORD LENGTH                                
         EJECT                                                                  
***********************************************************************         
* DSECT FOR THE KEY OF THE INTERIM RECORD FOR DELETIONS.              *         
***********************************************************************         
IDELKEY  DSECT                                                                  
IDRTPE   DS    C                   RECORD TYPE                                  
IDRTPEQ  EQU   X'01'               NOT AN ACTUAL DEMO FILE KEY                  
IDSRTPE  DS    C                   RECORD SUB-TYPE                              
IDSRTPEQ EQU   C'D'                'D': DELETION                                
IDBOOK   DS    XL2                 BOOK TO DELETE                               
IDMEDIA  DS    C                   MEDIA TO DELETE (SEE INTMEDIA) 0=ALL         
IDSTATN  DS    CL5                 STATION: CALL LETTERS FOR BROADCAST,         
*                                   NUMERIC CODE FOR CABLE LEFT ALIGNED         
*                                   ZEROES=ALL                                  
IDELKEYL EQU   *-IDELKEY                                                        
***********************************************************************         
* MAXIMUM NUMBER OF DEMOS ON THE INTERIM RECORD.                      *         
***********************************************************************         
MAXDIDEM EQU   409                                                              
