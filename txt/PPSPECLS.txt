                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
                                                                                
.bx 20m 51m                                                                     
                                                                                
                                                                                
                        NEW PUBLICATION SYSTEM                                  
                                                                                
                            'SPECIALS'                                          
                                                                                
                                                                                
.bx off                                                                         
<lines>                                                                         
<t>introduction                                                                 
   I am using the perhaps not very apt term 'specials' to refer                 
generically to variety of what might be better called qualifiers,               
or atttributes, or limitations. They are additional pieces of                   
information, beyond the space descritpion itself, which define the              
advert and govern the rate and mechanical data lookup. They are                 
present or absent in a rate card depending on whether the publication           
offers them and whether they affect the cost.                                   
                                                                                
   Here is a list of the specials I've come up with so far-                     
                                                                                
     GEO    geographic   -special geographic editions of the pub,               
            edition       for a specific region or city.                        
                                                                                
     DEMED  demographic  -special editions for a specific demographic           
            edition       group, based on income, occupation etc.               
                          (maybe US only)                                       
                                                                                
     DAY    day          -to support different costs for different              
                          days of the week. (newspapers mostly)                 
                                                                                
     ROT    rotation     -different rates are sometimes offered                 
                          depending on how many 'degrees of freedom'            
                          the publisher is given as to when or where            
                          to run the advert.                                    
                          can be expressed as-                                  
                            -run of N days                                      
                            -run of specific days                               
                            -run of week (row) = any day                        
                            -run of N weeks                                     
                            -run of N sections, etc.                            
                                                                                
     COV    cover        -for adverts on covers.                                
                                                                                
     POS    position     -special position, e.g. facing matter,                 
                          right hand page, page 3, etc.                         
                                                                                
     SECT   section      -special section, e.g. sports, real estate,            
                          etc.                                                  
                                                                                
     COL    colours      -for colour attributes.                                
                                                                                
     SPLIT  split-run    -different advert in alternate copies                  
                          or in different editions.                             
                                                                                
     SEAS   seasonal     -to support different costs for different              
            variations    issue dates, e.g. rates may vary by season            
                          or month.                                             
                                                                                
     ISS    issue        -to support different costs for special                
                          issues                                                
                                                                                
     M/E    morning/     -to support different costs for morning,               
            evening       evening, and m/e combinations.                        
                                                                                
     COMBO  combination  -discount if bought in combination with                
                          one or more other pubs.                               
                                                                                
     GROUP  group        -discount if bought as part of a publication           
                          group.                                                
                                                                                
     CLASS  classified   -used as a 'special' for qualifying tables,            
                          etc. but just as a yes or no. Not entered             
                          as items on a separate screen like a list             
                          of geo editions.                                      
                                                                                
  Note- Inserts are handled differently. See INSERT section.                    
                                                                                
<h0>Use of specials                                                             
   Specials are used three basic ways-                                          
                                                                                
     1) To limit a set of data being entered.                                   
                                                                                
           The screen for entering a table of rates, for                        
           instance, has a 'specials' field in the key area                     
           where one could enter something like                                 
           GEO=NE,SECT=HOME to indicate that the rates are                      
           for the home decorating section in the northeast                     
           edition.                                                             
                                                                                
       2) To define the rows or columns of a rate table.                        
                                                                                
       (See more on 1 and 2 in the section on rate tables.)                     
                                                                                
       3) To act as qualifiers on the SPACE screen and on                       
          screens for entering other 'specials'.                                
                                                                                
<h0>file maintenance for specials                                               
   In general, the file maintenance screens for these 'specials'                
are multi-line entry screens with each line representing an                     
element. The number of items will usually be less than one                      
screen full, but we need to support scrolling through multiple                  
screens. Scrolling should be controlled by PF keys and should not               
cause changes to be written back to the file. That should happen                
only when you hit ENTER. This allows the user to review all his                 
input before committing himself.                                                
                                                                                
  The data required depends on the type of entry but generally                  
consists of a code, a description, and a 'specials' field, if                   
needed, to qualify the entry.                                                   
                                                                                
<h0>using the 'specials' field to qualify an entry                              
                                                                                
  The specials field can be used to qualify an entry by limiting                
it to a particular edition, section etc.                                        
                                                                                
   Other things that can be similarly qualified are rate tables,                
space descriptions, mechanical data, etc.                                       
                                                                                
  Basically, the field consists of a series of keyword= entries                 
which can be edited by SCANNER (or an enhanced version of it).                  
                                                                                
  The following conventions might prove worthwhile-                             
                                                                                
    a) GEO=ABC,DEF - ABC or DEF.                                                
       (note- this does not pose any syntactic difficulty                       
        unless the edition code is the same as a keyword.)                      
                                                                                
    b) GEO=-ABC    - not ABC, does not apply for ABC.                           
                                                                                
    c) GEO=ALL     - applies to all geographic editions.                        
                                                                                
    d) GEO=NONE    - applies to no geographic edition.                          
                                                                                
  Multiple qualifiers can be used but are probably rare even in                 
the case of table definitions. When they are made the following                 
rules apply when using the entry in a lookup-                                   
                                                                                
   a) qualifiers for the same type (e.g. two SECTION entries) are               
      or'ed together.                                                           
                                                                                
   b) qualifiers for different types are and'ed.                                
                                                                                
  The value following the keyword can be either a code or a                     
description or enough of the description to allow identification.               
We may have to deal with ambiguities, but this makes the whole                  
thing a lot easier to use.                                                      
                                                                                
  Note that for some types of specials the description is encodable             
(not free-form) - for instance, for DAY it is a day of the week                 
expression. It will some fancy footwork with SCANNER (or an                     
enhanced version of it) to edit something like 'DAY=M-W,F,GEO=ABC'.             
                                                                                
<h0>internal representation                                                     
    The element(s) being qualified  have a 2-byte internal code.                
  Any qualifying elements associated with it also share the same                
  2-byte code.  The whole set of elements is linked together by                 
  this common code.  They do not have to be physically together.                
                                                                                
    element data-                                                               
                                                                                
       type of 'special'      XL1                                               
       control                XL1    x'80' = not                                
       internal code(s)      NXL2                                               
                                                                                
    Multiple entries for the same type of special are or'ed together            
  when doing lookups (unless they are 'nots' in which case they are             
  and'ed).                                                                      
                                                                                
    Elements for different types of qualifying specials are and'ed              
 together when doing lookups.                                                   
                                                                                
   The whole set of qualifying elements can be thought of as                    
 part of the logical 'key' of a whatever they are associated with.              
<h0>**PROBLEMS**                                                                
                                                                                
   1) What if the necessary specials do not all fit in the                      
      screen field?                                                             
                                                                                
   2) What if they fit the way the user entered them, but not                   
      when they are re-displayed? He may have entered G for GEO                 
      or just a bit of the description.                                         
                                                                                
   3) Only certain combination of things may be meaningful.                     
      Is it worth making up rules?                                              
                                                                                
   4) It may be difficult to determine whether tables have been                 
      set up with inconsistent qualifiers- or even whether there is             
      illogical duplication.                                                    
                                                                                
   5) There is a potential problem involving the order in which                 
      various types of specials are entered. For instance, if a                 
      given section is only available in a certain special issue it             
      has to have a qualifier saying that, which means that issues              
      have to be set up before sections. But we may not be able to              
      set up issues before we set up something else, and so on.                 
                                                                                
      I don't think its too serious a problem.                                  
                                                                                
<t>GEOGRAPHIC EDITION (GEO)                                                     
  Special geographic editions of the pub, for a specific region or              
city.                                                                           
                                                                                
<scr>                                                                           
 RECORD  geo_____  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  CODE      DESCRIPTION         SPECIALS                                    
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
<escr>                                                                          
<input>                                                                         
<fd>code                                                                        
(8)                                                                             
<fd>description                                                                 
(20) defaults to code if blank                                                  
<fd>specials                                                                    
<einput>                                                                        
                                                                                
  Note- there are cases where a special rate is offered for                     
        particular combinations of geographic editions. I                       
        haven't dealt with that. Perhaps we could just set                      
        up those combinations themselves as additional geos.                    
                                                                                
    GEO elements are kept in a separate record (because there can               
    be a lot of them); elements for other specials can be lumped                
    together in one record.                                                     
                                                                                
    element data for geo specials (and for demed, pos, issue, split,            
     and section)-                                                              
                                                                                
          type of 'special'      XL1                                            
          internal code          XL2                                            
          user code              CL8                                            
          description            0X    variable length- max 20?                 
                                                                                
                                                                                
<t>DEMOGRAPHIC EDITION (DEMED)                                                  
  Special editions for a specific demographic group, based on income,           
occupation etc.  (maybe not needed in UK and GER)                               
                                                                                
<scr>                                                                           
 RECORD  demed___  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  CODE      DESCRIPTION         SPECIALS                                    
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
<escr>                                                                          
<t>DAY EDITION (DAY)                                                            
  If certain days of the week have different costs, those days                  
are entered here.  (newspapers mostly)                                          
                                                                                
<scr>                                                                           
 RECORD  day_____  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  DAYS         SPECIALS                                                     
 ___  __________   _______________________________________                      
 ___  __________   _______________________________________                      
 ___  __________   _______________________________________                      
<escr>                                                                          
<input>                                                                         
<fd>days                                                                        
an expression that can be edited by DAYPAK                                      
<einput>                                                                        
      element data-                                                             
                                                                                
          type of 'special'      XL1                                            
          internal code         0XL2                                            
          spare                  XL1                                            
          day value              XL1   x'40'-x'01' = monday-sunday              
                                                                                
<t>ROTATION (ROT)                                                               
   Different rates are sometimes offered depending on how many                  
'degrees of freedom' the publisher is given as to when or where to run          
the advert.                                                                     
                                                                                
<scr>                                                                           
 RECORD  rot_____  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  ROTATION        SPECIALS                                                  
 ___  ______________  ___________________________________________               
 ___  ______________  ___________________________________________               
 ___  ______________  ___________________________________________               
 ___  ______________  ___________________________________________               
<escr>                                                                          
<input>                                                                         
<fd>rotation                                                                    
NDAY           = run of N days                                                  
NWEEK          = run of N weeks                                                 
NSECT          = run of N sections                                              
ROW            = run of week (any day)                                          
day expression = run of specific days, e.g  W-F.                                
<einput>                                                                        
     - element data                                                             
                                                                                
          type of 'special'      XL1                                            
          internal code         0XL2                                            
          type of rotation       XL1       D = number of days                   
                                           W = number of weeks                  
                                           S = number of sections               
                                           V = specific days                    
                                           R = run of week (row)                
          number or day value    XL1                                            
                                                                                
<t>COLOUR                                                                       
                                                                                
  If colour adverts can be run in the publication.                              
                                                                                
<scr>                                                                           
 RECORD  colour__  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  COLOURS         SPECIALS                                                  
 ___  ______________  ___________________________________________               
 ___  ______________  ___________________________________________               
 ___  ______________  ___________________________________________               
 ___  ______________  ___________________________________________               
<escr>                                                                          
<input>                                                                         
<fd>colours                                                                     
BW      = black and white                                                       
MONO    = mono (= BW)                                                           
1       = bw + 1 colour                                                         
2       = bw + 2 colours                                                        
3       = bw + 3 colours                                                        
4       = 4 colour                                                              
FULL    = 4 colour  (= 4)                                                       
SPOT    = spot colour                                                           
(Does BW + 3 colours = 4 colours?)                                              
<einput>                                                                        
???  Should we pre-list standard color options and let the user                 
     select.  ???                                                               
                                                                                
note- choice made here between BW and MONO (and FULL and 4)                     
      will be carried throughout the rate card entries (to make our             
      data look as much like the published card as possible) but the            
      two are interchangeable as far as the end-user is concerned.              
                                                                                
      element data-                                                             
                                                                                
          type of 'special'      XL1                                            
          internal code         0XL2                                            
          code for lookups       XL1  ???  0 = bw                               
                                           1 = bw + 1 colour                    
                                           2 = bw + 2 colours                   
                                           3 = bw + 3 colours                   
                                           4 = 4 colour                         
                                          10 = spot colour                      
          code 'as entered'      XL1       same as above, except                
                                          20=  mono                             
                                          21=  full                             
           (These codes will be kept in system-global tables and                
            used in buy and contract records as well.)                          
                                                                                
<t>POSITION (POS)                                                               
  For special position requests, e.g. facing matter, right hand page,           
etc.                                                                            
                                                                                
<scr>                                                                           
 RECORD  pos_____  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  CODE      DESCRIPTION         SPECIALS                                    
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
<escr>                                                                          
<t>SECTION (SECT)                                                               
   For special sections of a publication like sports, real estate,              
etc.                                                                            
                                                                                
<scr>                                                                           
 RECORD  sect____  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  CODE      DESCRIPTION         SPECIALS                                    
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
<escr>                                                                          
<t>COVER                                                                        
   For special cover positions.                                                 
                                                                                
<scr>                                                                           
 RECORD  cover___  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  COVER     SPECIALS                                                        
 ___  ________  _____________________________________________________           
 ___  ________  _____________________________________________________           
 ___  ________  _____________________________________________________           
 ___  ________  _____________________________________________________           
<escr>                                                                          
<input>                                                                         
<einput>                                                                        
<fd>cover                                                                       
standard codes to indicate                                                      
  - outside front                                                               
  - inside front                                                                
  - inside back                                                                 
  - outside back                                                                
(These are called 1st, 2nd, 3rd, and 4th covers                                 
covers in the US.)                                                              
<einput>                                                                        
     element data-                                                              
                                                                                
          type of 'special'      XL1                                            
          internal code         0XL2                                            
          spare                  XL1                                            
          code for cover         XL1  ???  1= 1st = outside front               
                                           2= 2nd = inside front                
                                           3= 3rd = inside back                 
                                           4= 4th = outside back                
                                                                                
           (These codes will be kept in system-global tables and                
            used in buy and contract records as well.)                          
                                                                                
<t>SEASONAL VARIATIONS (SEAS)                                                   
  If rates vary by time of year (season, month, etc.) the start                 
and end dates for the special periods can be entered here.                      
                                                                                
<scr>                                                                           
 RECORD  seas____  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  DATE(S)              SPECIALS                                             
 ___  ___________________  ______________________________________               
 ___  ___________________  ______________________________________               
 ___  ___________________  ______________________________________               
<escr>                                                                          
<input>                                                                         
<fd>date(s)                                                                     
may not overlap                                                                 
may be 1) start mmmdd - end mmmdd (rare)                                        
       2) start month - end month                                               
       3) single month                                                          
<einput>                                                                        
note- This differs from other specials in that the look-up is                   
      based not on a specially defined extra field but simply on                
      the insertion date.                                                       
                                                                                
     element data-                                                              
                                                                                
          type of 'special'      XL1                                            
          internal code          XL2                                            
          start day or month     XL2       mmdd (dd=0 for month alone)          
          end day or month       XL2              ''                            
                                                                                
<t>SPLIT-RUNS (SPLIT)                                                           
  For the various types of split runs a publication may offer.                  
                                                                                
<scr>                                                                           
 RECORD  split___  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  CODE      DESCRIPTION         SPECIALS                                    
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
<escr>                                                                          
<t>ISSUE                                                                        
  For special issues of the publication.                                        
                                                                                
<scr>                                                                           
 RECORD  issue___  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  CODE      DESCRIPTION         SPECIALS                                    
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
 ___  ________  __________________  _____________________________               
<escr>                                                                          
<t>MORNING/EVENING (M/E)                                                        
  To support different rates for morning, evening and various                   
combinations.                                                                   
                                                                                
   (Maybe only for US newspaper.)                                               
                                                                                
<scr>                                                                           
 RECORD  m/e_____  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  EDIT/COMBO  NAME                  SPECIALS                                
 ___  __________  ____________________  _______________________________         
 ___  __________  ____________________  _______________________________         
 ___  __________  ____________________  _______________________________         
 ___  __________  ____________________  _______________________________         
 ___  __________  ____________________  _______________________________         
<escr>                                                                          
<input>                                                                         
<fd>edit/combo                                                                  
 M     =morning                                                                 
 E     =evening                                                                 
 ME    =morn/eve                                                                
 M+S   =morning and Sunday                                                      
 E+S   =evening and Sunday                                                      
 ME+S  =morn/eve and Sunday                                                     
 and others?                                                                    
 Should be consistent with data on DATES screen.                                
<fd>name                                                                        
the morning and evening editions                                                
of a newspaper may have different names                                         
<einput>                                                                        
???  If an insertion is bought in a combination of editions, does it            
     count as more than one insertion?                                          
                                                                                
     element data-                                                              
                                                                                
          type of 'special'      XL1                                            
          internal code         0XL2                                            
          spare                  XL1                                            
          edition/combo          XL1   bits for m/e/s?                          
          name                   0X    variable length- max 20?                 
                                                                                
<t>COMBINATIONS (COMBO)                                                         
  If special rates are offered if the pub is bought in combination              
with one or more others. See GROUP also.                                        
                                                                                
<scr>                                                                           
 RECORD  combo___  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  OTHER PUBLICATIONS            SPECIALS                                    
 ___  ____________________________  _____________________________               
 ___  ____________________________  _____________________________               
 ___  ____________________________  _____________________________               
<escr>                                                                          
<input>                                                                         
<fd>other pubs                                                                  
One or more pub codes to identify the                                           
particular combination.                                                         
<einput>                                                                        
???  When rates are entered for a combination are they the total                
     rate for both (or all) pubs or just for this one?                          
                                                                                
???  If an insertion is bought in one pub as part of a combo, does              
     a corresponding buy have to be made in the other pub, or                   
     is the original one enough?                                                
                                                                                
     element data-                                                              
                                                                                
          type of 'special'      XL1                                            
          internal code          XL2                                            
          pub code(s)           NXL4                                            
                                                                                
<t>GROUP                                                                        
  If a discount is offered if the pub is bought as part of a                    
publication group.                                                              
                                                                                
<scr>                                                                           
 RECORD  group___  ACTION ________ KEY __________________________               
                                                                                
 PUBLICATION       ___________________                                          
                                                                                
 ACT  GROUP PUBLICATION CODE        SPECIALS                                    
 ___  ____________________________  _____________________________               
 ___  ____________________________  _____________________________               
 ___  ____________________________  _____________________________               
<escr>                                                                          
<input>                                                                         
<fd>group pub                                                                   
The code of the group.                                                          
A pub can belong to more than one group.                                        
<einput>                                                                        
note- groups can be set up just as if they were individual pubs.                
                                                                                
note- A passive pointer with the group code is created for each                 
      individual pub that is a member.                                          
                                                                                
     element data-                                                              
                                                                                
          type of 'special'      XL1                                            
          internal code          XL2                                            
          group pub code         XL4                                            
